# 주간 복습 및 퀴즈

## 개요
2주차 교육 과정에서는 복원력을 갖춘 아키텍처 설계에 대해 학습했습니다. 고가용성 설계 원칙, EC2 인스턴스, Auto Scaling, 로드 밸런싱, 서버리스 아키텍처, 컨테이너 서비스, 그리고 재해 복구 전략 등 다양한 주제를 다루었습니다. 이 복습 세션에서는 주요 개념을 정리하고, 실제 시나리오를 통해 학습 내용을 적용해 보며, 퀴즈를 통해 이해도를 평가합니다.

## 주요 학습 내용 요약

### 1. 고가용성 설계 원칙
- 단일 장애점(SPOF) 제거
- 안정적인 장애 감지 및 복구
- 확장성(Scalability)
- 분산 시스템 설계
- 내결함성(Fault Tolerance)

### 2. EC2 및 인스턴스 유형
- EC2의 기본 개념 및 특징
- 다양한 인스턴스 패밀리 및 사용 사례
- 인스턴스 구매 옵션 (온디맨드, 예약, 스팟)
- EC2를 활용한 고가용성 아키텍처

### 3. Auto Scaling 및 로드 밸런싱
- Auto Scaling 그룹 구성 요소 및 작동 방식
- 다양한 조정 정책 유형
- 로드 밸런서 유형 및 특징
- 고가용성을 위한 다중 AZ 배포

### 4. 서버리스 아키텍처
- AWS Lambda의 개념 및 작동 방식
- API Gateway 유형 및 통합 방법
- 서버리스 API 설계 및 구현
- 서버리스 아키텍처의 보안 및 성능 최적화

### 5. 컨테이너 서비스
- 컨테이너의 기본 개념 및 가상 머신과의 차이점
- Docker 기본 개념 및 구성 요소
- Amazon ECS 및 EKS의 주요 기능
- AWS Fargate를 활용한 서버리스 컨테이너

### 6. 재해 복구 전략
- RTO(Recovery Time Objective)와 RPO(Recovery Point Objective)
- 다양한 재해 복구 옵션 (백업 및 복원, 파일럿 라이트, 웜 스탠바이, 멀티 사이트)
- AWS 백업 서비스 및 기능
- 재해 복구 계획 수립 및 테스트

## 실제 시나리오 적용

### 시나리오 1: 전자상거래 웹사이트
온라인 쇼핑몰을 운영하는 회사에서 트래픽이 급증하는 세일 기간에도 안정적인 서비스를 제공하고, 장애 발생 시 빠르게 복구할 수 있는 아키텍처를 설계해야 합니다.

**솔루션 접근 방식**:
1. **다중 AZ 배포**: 여러 가용 영역에 걸쳐 웹 서버 및 데이터베이스 배포
2. **Auto Scaling**: 트래픽에 따라 자동으로 EC2 인스턴스 확장/축소
3. **로드 밸런싱**: Application Load Balancer를 사용하여 트래픽 분산
4. **데이터베이스 고가용성**: Amazon RDS 다중 AZ 배포
5. **세션 관리**: ElastiCache를 사용한 세션 저장
6. **백업 전략**: 정기적인 데이터베이스 스냅샷 및 크로스 리전 복제
7. **재해 복구**: 웜 스탠바이 전략으로 다른 리전에 축소된 환경 유지

### 시나리오 2: 모바일 백엔드 API
모바일 애플리케이션의 백엔드 API를 개발하는 스타트업에서 서버 관리 부담을 최소화하면서 확장 가능하고 비용 효율적인 아키텍처를 구축해야 합니다.

**솔루션 접근 방식**:
1. **서버리스 아키텍처**: AWS Lambda와 API Gateway를 사용한 백엔드 구현
2. **데이터 저장소**: DynamoDB를 사용한 확장 가능한 NoSQL 데이터베이스
3. **인증 및 권한 부여**: Amazon Cognito를 통한 사용자 관리
4. **미디어 저장**: S3를 사용한 사용자 업로드 파일 저장
5. **CDN**: CloudFront를 통한 정적 콘텐츠 배포
6. **모니터링**: CloudWatch 및 X-Ray를 통한 성능 모니터링
7. **백업**: DynamoDB 특정 시점 복구 및 S3 버전 관리 활성화

### 시나리오 3: 마이크로서비스 아키텍처
기존 모놀리식 애플리케이션을 마이크로서비스로 리팩토링하는 기업에서 컨테이너 기반의 확장 가능하고 관리하기 쉬운 아키텍처를 설계해야 합니다.

**솔루션 접근 방식**:
1. **컨테이너화**: 각 마이크로서비스를 Docker 컨테이너로 패키징
2. **오케스트레이션**: Amazon EKS를 사용한 Kubernetes 클러스터 관리
3. **서비스 디스커버리**: AWS Cloud Map을 통한 서비스 검색
4. **API 게이트웨이**: Amazon API Gateway를 통한 API 관리
5. **CI/CD**: AWS CodePipeline 및 CodeBuild를 통한 지속적 통합 및 배포
6. **모니터링**: Amazon CloudWatch Container Insights를 통한 컨테이너 모니터링
7. **재해 복구**: 다중 리전 배포 및 자동화된 장애 조치

## 퀴즈

### 객관식 문제

1. 다음 중 AWS에서 고가용성을 구현하기 위한 가장 기본적인 방법은 무엇인가요?
   a) 여러 AWS 계정 사용
   b) 여러 가용 영역에 리소스 배포
   c) 여러 리전에 리소스 배포
   d) 더 큰 인스턴스 유형 사용

2. Auto Scaling 그룹의 최소, 최대, 원하는 용량이 각각 2, 10, 4로 설정되어 있을 때, 초기 상태에서 몇 개의 인스턴스가 실행되나요?
   a) 2개
   b) 4개
   c) 10개
   d) 6개

3. 다음 중 Application Load Balancer(ALB)의 특징이 아닌 것은 무엇인가요?
   a) 경로 기반 라우팅
   b) WebSocket 지원
   c) 고정 IP 주소 제공
   d) 여러 가용 영역에 걸친 로드 밸런싱

4. AWS Lambda 함수의 최대 실행 시간은 얼마인가요?
   a) 5분
   b) 10분
   c) 15분
   d) 30분

5. 다음 중 컨테이너와 가상 머신의 차이점으로 올바른 것은 무엇인가요?
   a) 컨테이너는 하이퍼바이저가 필요하지만, 가상 머신은 필요하지 않다
   b) 컨테이너는 호스트 OS 커널을 공유하지만, 가상 머신은 자체 OS를 가진다
   c) 컨테이너는 하드웨어 수준에서 격리되지만, 가상 머신은 프로세스 수준에서 격리된다
   d) 컨테이너는 Windows에서만 실행 가능하지만, 가상 머신은 모든 OS에서 실행 가능하다

6. 다음 중 RPO(Recovery Point Objective)에 대한 설명으로 가장 적절한 것은 무엇인가요?
   a) 서비스 중단 후 비즈니스 프로세스를 복구해야 하는 목표 시간
   b) 데이터 손실을 허용할 수 있는 최대 기간
   c) 시스템이 정상적으로 작동하는 시간의 비율
   d) 백업 작업을 완료하는 데 필요한 시간

7. AWS Fargate의 주요 이점은 무엇인가요?
   a) 더 많은 컨테이너 격리
   b) 서버 관리 불필요
   c) 더 빠른 컨테이너 시작 시간
   d) 더 낮은 네트워크 지연 시간

8. 다음 중 AWS Backup이 지원하지 않는 서비스는 무엇인가요?
   a) Amazon S3
   b) Amazon RDS
   c) Amazon CloudFront
   d) Amazon EFS

### 서술형 문제

9. 고가용성 웹 애플리케이션을 위한 아키텍처를 설계할 때 고려해야 할 주요 요소 3가지를 설명하세요.

10. Auto Scaling의 대상 추적 조정 정책과 단계 조정 정책의 차이점을 설명하고, 각각 어떤 상황에서 사용하는 것이 적합한지 예를 들어 설명하세요.

11. 서버리스 아키텍처의 장점과 단점을 각각 3가지씩 설명하세요.

12. 재해 복구 전략 중 파일럿 라이트와 웜 스탠바이의 차이점을 설명하고, 각 전략이 적합한 워크로드 유형을 예를 들어 설명하세요.

## 정답

### 객관식 문제 정답
1. b) 여러 가용 영역에 리소스 배포
2. b) 4개
3. c) 고정 IP 주소 제공
4. c) 15분
5. b) 컨테이너는 호스트 OS 커널을 공유하지만, 가상 머신은 자체 OS를 가진다
6. b) 데이터 손실을 허용할 수 있는 최대 기간
7. b) 서버 관리 불필요
8. c) Amazon CloudFront

### 서술형 문제 예시 답안

9. 고가용성 웹 애플리케이션을 위한 아키텍처 설계 시 고려 요소:
   - **다중 가용 영역 배포**: 단일 가용 영역 장애에도 서비스가 지속되도록 여러 가용 영역에 리소스 배포
   - **로드 밸런싱**: 트래픽을 여러 인스턴스에 분산하여 단일 인스턴스 장애의 영향 최소화
   - **자동 확장**: 트래픽 변화에 따라 자동으로 용량 조정
   - **데이터 복제**: 데이터베이스 및 스토리지의 다중 복제본 유지
   - **자동 복구**: 장애 감지 및 자동 복구 메커니즘 구현

10. Auto Scaling 조정 정책 비교:
    - **대상 추적 조정 정책**:
      - 특정 지표(CPU 사용률, 요청 수 등)의 목표값을 설정하고 자동으로 조정
      - 양방향 조정(확장 및 축소) 자동 수행
      - 예: CPU 사용률을 50%로 유지하도록 설정
      - 적합한 상황: 예측 가능한 워크로드, 특정 지표와 성능이 직접적으로 연관된 경우
    
    - **단계 조정 정책**:
      - 경보 위반의 크기에 따라 다른 조정 조치 수행
      - 각 단계마다 다른 조정 규모 정의 가능
      - 예: CPU > 70%일 때 2개 인스턴스 추가, CPU > 85%일 때 4개 인스턴스 추가
      - 적합한 상황: 복잡한 조정 요구 사항, 위반 정도에 따른 세밀한 조정이 필요한 경우

11. 서버리스 아키텍처의 장점과 단점:
    - **장점**:
      - 서버 관리 불필요: 인프라 관리 부담 감소
      - 자동 확장: 트래픽에 따라 자동으로 확장
      - 비용 효율성: 사용한 리소스에 대해서만 비용 지불
    
    - **단점**:
      - 콜드 스타트: 함수가 처음 호출될 때 지연 시간 발생
      - 제한된 실행 시간: Lambda 함수는 최대 15분으로 제한
      - 복잡한 모니터링: 분산된 함수로 인한 디버깅 및 모니터링 어려움

12. 재해 복구 전략 비교:
    - **파일럿 라이트**:
      - 핵심 시스템 구성 요소만 항상 실행
      - 재해 발생 시 나머지 인프라 프로비저닝 필요
      - RTO: 수십 분 ~ 시간
      - 적합한 워크로드: 중요하지만 즉각적인 복구가 필요하지 않은 시스템, 비용에 민감한 워크로드
      - 예: 내부 보고 시스템, 배치 처리 시스템
    
    - **웜 스탠바이**:
      - 축소된 규모로 전체 시스템 항상 실행
      - 재해 발생 시 프로덕션 규모로 확장 필요
      - RTO: 분 단위
      - 적합한 워크로드: 중요도가 높고 빠른 복구가 필요한 시스템
      - 예: 고객 대면 웹 애플리케이션, 결제 처리 시스템

## 다음 주 학습 내용 미리보기

### 3주차: 고성능 아키텍처 설계
- 스토리지 서비스 (S3, EBS, EFS)
- 데이터베이스 서비스 (RDS, DynamoDB)
- 고급 데이터베이스 및 캐싱 (Aurora, ElastiCache)
- 네트워크 성능 최적화 (CloudFront, Global Accelerator)
- 데이터 처리 서비스 (Kinesis, EMR, Glue)

## 주간 과제 및 챌린지 안내

### 주간 과제: 고가용성 웹 애플리케이션 배포
- EC2 인스턴스, Auto Scaling, 로드 밸런서를 사용하여 고가용성 웹 애플리케이션 배포
- 다중 가용 영역에 걸쳐 인프라 구성
- CloudWatch 경보 및 Auto Scaling 정책 구성
- 장애 시나리오 테스트 및 복구 절차 문서화

### 주간 챌린지: 멀티 리전 재해 복구 솔루션
- 두 개의 AWS 리전에 걸친 재해 복구 솔루션 구현
- Route 53을 사용한 DNS 장애 조치 구성
- 데이터 복제 및 백업 전략 구현
- 재해 복구 계획 및 절차 문서화
- 리전 장애 시뮬레이션 및 복구 테스트

## 추가 학습 자료

### 도서
- "AWS 공인 솔루션스 아키텍트 스터디 가이드" - 최신판
- "Designing Data-Intensive Applications" - Martin Kleppmann

### 온라인 자료
- [AWS Well-Architected Framework - 안정성 기둥](https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/welcome.html)
- [AWS 아키텍처 센터 - 고가용성](https://aws.amazon.com/architecture/availability-and-beyond/)
- [AWS 재해 복구 백서](https://docs.aws.amazon.com/whitepapers/latest/disaster-recovery-workloads-on-aws/disaster-recovery-workloads-on-aws.html)

### 실습 랩
- [AWS Well-Architected Labs - 안정성](https://www.wellarchitectedlabs.com/reliability/)
- [Amazon EC2 Auto Scaling 워크숍](https://ec2spotworkshops.com/amazon-ec2-auto-scaling.html)
- [AWS 서버리스 워크숍](https://aws.amazon.com/serverless/serverlessrepo/resources/)