# 주간 챌린지: 멀티 리전 재해 복구 솔루션

## 개요
이 챌린지에서는 두 개의 AWS 리전에 걸친 재해 복구 솔루션을 설계하고 구현합니다. 기본 리전에서 장애가 발생할 경우 보조 리전으로 원활하게 장애 조치할 수 있는 아키텍처를 구축하고, 데이터 복제, DNS 장애 조치, 자동화된 복구 프로세스를 구현합니다.

## 학습 목표
- 멀티 리전 아키텍처 설계 및 구현 방법 습득
- Route 53을 활용한 DNS 장애 조치 구성 방법 이해
- 리전 간 데이터 복제 및 백업 전략 구현
- 자동화된 장애 감지 및 복구 프로세스 개발
- 재해 복구 계획 수립 및 테스트 방법 학습

## 요구 사항

### 1. 멀티 리전 아키텍처 설계
- 기본 리전과 보조 리전 선택 (예: us-east-1과 us-west-2)
- 각 리전에 동일한 아키텍처 구성
- 아키텍처 다이어그램 작성 (기본 리전, 보조 리전, 복제 메커니즘 포함)
- RTO(Recovery Time Objective)와 RPO(Recovery Point Objective) 정의

### 2. 웹 애플리케이션 배포
- 간단한 웹 애플리케이션 개발 또는 샘플 애플리케이션 사용
  - 정적 웹 페이지 또는 간단한 동적 웹 애플리케이션
  - 현재 실행 중인 리전 표시
- 두 리전 모두에 애플리케이션 배포
  - 기본 리전: 완전한 규모로 배포
  - 보조 리전: 축소된 규모로 배포 (웜 스탠바이 또는 파일럿 라이트)

### 3. 데이터베이스 복제 구성
다음 옵션 중 하나 이상 구현:
- Amazon RDS 리전 간 읽기 전용 복제본
- Amazon Aurora 글로벌 데이터베이스
- DynamoDB 글로벌 테이블
- 사용자 정의 복제 솔루션

### 4. 스토리지 복제 구성
다음 옵션 중 하나 이상 구현:
- Amazon S3 크로스 리전 복제
- Amazon EBS 스냅샷 크로스 리전 복사
- AWS DataSync를 사용한 파일 복제

### 5. DNS 장애 조치 구성
- Amazon Route 53 상태 확인 생성
  - 엔드포인트 모니터링
  - CloudWatch 경보 연동
- Route 53 장애 조치 레코드 구성
  - 기본 리전을 기본 레코드로 설정
  - 보조 리전을 보조 레코드로 설정

### 6. 자동화된 장애 감지 및 복구
다음 옵션 중 하나 이상 구현:
- CloudWatch 경보 및 Lambda 함수를 사용한 자동 장애 감지
- AWS Systems Manager 자동화 문서를 사용한 복구 프로세스
- Amazon EventBridge 규칙을 사용한 이벤트 기반 복구

### 7. 재해 복구 계획 문서화
- 재해 복구 계획 문서 작성
  - 장애 시나리오 정의
  - 복구 절차 단계별 설명
  - 역할 및 책임 정의
  - 연락처 정보
- 복구 테스트 계획 작성

### 8. 장애 시나리오 테스트
다음 시나리오 테스트 및 결과 문서화:
- 기본 리전 애플리케이션 장애
- 기본 리전 데이터베이스 장애
- 전체 기본 리전 장애 (시뮬레이션)
- 복구 후 기본 리전으로 장애 복구(failback)

## 제출 요구 사항

### 1. GitHub 저장소
- 모든 코드 및 문서를 포함하는 GitHub 저장소 생성
- README.md 파일에 프로젝트 개요 및 설정 지침 포함

### 2. 아키텍처 문서
- 멀티 리전 아키텍처 다이어그램 (PNG 또는 PDF 형식)
- 아키텍처 설계 결정 및 근거 설명
- RTO 및 RPO 목표 및 달성 방법 설명

### 3. 코드 및 구성 파일
- 인프라 구성을 위한 AWS CLI 명령어 또는 CloudFormation/Terraform 템플릿
- 웹 애플리케이션 소스 코드
- 자동화 스크립트 및 Lambda 함수
- Route 53 구성 파일

### 4. 재해 복구 계획
- 재해 복구 계획 문서 (PDF 또는 Markdown 형식)
- 복구 절차 체크리스트
- 테스트 계획 및 결과

### 5. 테스트 및 검증 문서
- 장애 시나리오 테스트 계획 및 결과
- 스크린샷 및 로그를 포함한 테스트 증거
- 복구 시간 및 데이터 손실 측정 결과

### 6. 비용 분석
- 멀티 리전 아키텍처의 예상 월간 비용
- 비용 최적화 제안 사항
- 재해 복구 비용 대비 이점 분석

## AWS 계정 액세스 제공
- 강사가 구현된 아키텍처를 검토할 수 있도록 ReadOnlyAccess 역할 생성
- 역할 ARN 제공 또는 임시 액세스 키 공유 (안전한 방법으로)

## 평가 기준

### 1. 아키텍처 설계 (25%)
- 멀티 리전 아키텍처의 완성도
- 복제 메커니즘의 적절성
- RTO 및 RPO 목표 달성 가능성

### 2. 구현 완성도 (25%)
- 모든 요구 사항 구현
- 코드 및 구성 품질
- 문서화 품질

### 3. 장애 조치 메커니즘 (20%)
- DNS 장애 조치 구성 완성도
- 자동화된 장애 감지 및 복구 효과
- 장애 복구(failback) 프로세스 구현

### 4. 데이터 복제 및 일관성 (15%)
- 데이터 복제 메커니즘 구현
- 데이터 일관성 보장
- RPO 목표 달성

### 5. 테스트 및 검증 (15%)
- 장애 시나리오 테스트 완성도
- 테스트 결과 문서화
- 측정된 RTO 및 RPO 값

## 보너스 과제 (추가 점수)

### 1. 다중 리전 CI/CD 파이프라인
- AWS CodePipeline을 사용한 다중 리전 CI/CD 파이프라인 구성
- 두 리전에 동시 또는 순차적 배포
- 배포 검증 및 롤백 메커니즘

### 2. 고급 모니터링 및 알림
- 중앙 집중식 로깅 및 모니터링 구성
- 리전 간 지표 집계
- 고급 알림 및 에스컬레이션 메커니즘

### 3. 비용 최적화된 DR 전략
- 비용 효율적인 멀티 리전 아키텍처 구현
- 자동 스케일링을 통한 보조 리전 비용 최적화
- 비용 대비 RTO/RPO 트레이드오프 분석

## 이스터 에그 (숨겨진 과제)
이 챌린지에는 숨겨진 이스터 에그가 포함되어 있습니다. 이를 찾아 구현하면 추가 점수를 받을 수 있습니다. 힌트: 재해 복구 테스트 자동화와 관련이 있습니다.

## 참고 자료
- [AWS 재해 복구 백서](https://docs.aws.amazon.com/whitepapers/latest/disaster-recovery-workloads-on-aws/disaster-recovery-workloads-on-aws.html)
- [Amazon Route 53 장애 조치 구성](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/dns-failover.html)
- [AWS 리전 간 복제 옵션](https://aws.amazon.com/blogs/architecture/disaster-recovery-dr-architecture-on-aws-part-iii-pilot-light-and-warm-standby/)
- [AWS Well-Architected Framework - 안정성 기둥](https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/welcome.html)

## 제출 마감일
다음 주 수요일 오전 9시까지 GitHub 저장소 URL을 제출하세요.

## 질문 및 지원
챌린지 관련 질문이나 기술적 문제가 있는 경우, 강의 시간 중에 질문하거나 이메일로 문의하세요.