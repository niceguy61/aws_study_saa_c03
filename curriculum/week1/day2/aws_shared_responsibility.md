# AWS 공동 책임 모델

## 개요
AWS 공동 책임 모델은 클라우드 보안의 핵심 개념으로, AWS와 고객 간의 보안 책임을 명확하게 구분합니다. 이 모델은 "클라우드 자체의 보안"과 "클라우드 내부의 보안"으로 책임을 나누어 정의합니다. 이 강의에서는 AWS 공동 책임 모델의 개념, AWS와 고객의 책임 영역, 서비스 모델별 책임 분담, 그리고 실제 적용 사례를 살펴봅니다.

## 학습 목표
- AWS 공동 책임 모델의 개념과 중요성 이해
- AWS의 책임 영역과 고객의 책임 영역 구분
- 서비스 모델(IaaS, PaaS, SaaS)별 책임 분담 차이 파악
- 공동 책임 모델을 실제 환경에 적용하는 방법 학습
- 공동 책임 모델 관련 모범 사례 습득

## AWS 공동 책임 모델 개념

### 정의 및 중요성
AWS 공동 책임 모델은 클라우드 환경에서 AWS와 고객이 각각 담당해야 할 보안 책임을 정의한 프레임워크입니다. 이 모델은 클라우드 서비스를 안전하게 운영하기 위한 기본 원칙을 제공합니다.

**비유**: AWS 공동 책임 모델은 아파트 건물과 입주자의 관계와 유사합니다. 건물 소유자(AWS)는 건물의 구조, 전기, 수도, 공용 공간의 보안을 책임지고, 입주자(고객)는 자신의 아파트 내부 보안, 가구 배치, 방문자 관리 등을 책임집니다.

**중요성**:
- 보안 책임의 명확한 구분으로 혼란 방지
- 보안 위험 관리를 위한 체계적인 접근 제공
- 규정 준수 요구 사항 충족을 위한 기반 마련
- 효과적인 보안 전략 수립 지원
- 클라우드 도입의 장벽 감소

### 기본 원칙
AWS 공동 책임 모델의 기본 원칙은 "클라우드 자체의 보안"과 "클라우드 내부의 보안"으로 책임을 나누는 것입니다.

1. **클라우드 자체의 보안 (Security OF the Cloud)**: AWS의 책임
   - AWS 클라우드 서비스를 제공하는 인프라 보호
   - 하드웨어, 소프트웨어, 네트워킹, 시설 보안 관리

2. **클라우드 내부의 보안 (Security IN the Cloud)**: 고객의 책임
   - AWS 클라우드 내에서 사용하는 리소스 및 데이터 보호
   - 서비스 구성, 애플리케이션 보안, 데이터 관리

### 공동 책임 모델 시각화
AWS 공동 책임 모델은 일반적으로 다음과 같은 계층 구조로 시각화됩니다:

```
+--------------------------------------------------+
|                  고객 데이터                      |
+--------------------------------------------------+
|            플랫폼, 애플리케이션, ID 및 액세스 관리   |
+--------------------------------------------------+
|               운영 체제, 네트워크 구성             | ← 고객 책임
+--------------------------------------------------+
|                  클라이언트 측 데이터              |
|                암호화 및 데이터 무결성             |
|                   인증 및 권한 부여               |
+--------------------------------------------------+
|                  서버 측 암호화                   |
|             (파일 시스템 및/또는 데이터)           |
+--------------------------------------------------+
|                네트워킹 트래픽 보호                |
|              (암호화, 무결성, ID)                 |
+--------------------------------------------------+ ← 책임 경계
|                  소프트웨어                       |
+--------------------------------------------------+
|                  하드웨어/AWS                     |
|             글로벌 인프라                         | ← AWS 책임
+--------------------------------------------------+
|                  리전, 가용 영역                  |
|                  엣지 로케이션                    |
+--------------------------------------------------+
```

## AWS의 책임 영역

### 물리적 인프라 보호
AWS는 데이터 센터 및 네트워크 장비를 포함한 모든 물리적 인프라의 보안을 책임집니다.

**주요 책임**:
- 데이터 센터 물리적 접근 제어
- 환경 위험 보호 (화재, 홍수, 정전 등)
- 물리적 서버, 스토리지, 네트워킹 장비 보안
- 24/7 보안 모니터링 및 감시
- 물리적 미디어 폐기 및 관리

**구현 방식**:
- 생체 인식 기반 접근 제어
- 다중 인증 요소
- 전문 보안 요원
- CCTV 및 침입 탐지 시스템
- 중복 전원 공급 장치 및 백업 시스템

### 하드웨어 및 소프트웨어 인프라
AWS는 클라우드 서비스를 제공하는 하드웨어 및 소프트웨어 인프라의 보안을 책임집니다.

**주요 책임**:
- 호스트 운영 체제 패치 및 업데이트
- 하이퍼바이저 보안 및 패치
- 스토리지 디바이스 수명 주기 관리
- 내부 서비스 소프트웨어 보안
- 하드웨어 장애 관리 및 교체

**구현 방식**:
- 자동화된 패치 관리 시스템
- 지속적인 취약점 스캔
- 하드웨어 모니터링 및 예측 유지 보수
- 보안 기준선 및 강화 표준
- 정기적인 보안 감사 및 테스트

### 네트워크 인프라
AWS는 데이터 센터 간, 인터넷과의 연결을 포함한 모든 네트워크 인프라의 보안을 책임집니다.

**주요 책임**:
- 네트워크 디바이스 구성 및 관리
- 네트워크 트래픽 보호
- DDoS 방어 인프라
- 경계 보안 및 침입 탐지
- 네트워크 세분화 및 격리

**구현 방식**:
- 자동화된 트래픽 모니터링
- 다중 계층 방화벽
- AWS Shield 및 WAF 서비스
- 암호화된 VPN 연결
- 네트워크 액세스 제어 목록

### 가상화 인프라
AWS는 가상화 계층의 보안을 책임지며, 이는 고객 환경 간의 격리를 보장합니다.

**주요 책임**:
- 하이퍼바이저 보안
- 인스턴스 격리
- 가상 네트워크 격리
- 스토리지 격리
- API 엔드포인트 보안

**구현 방식**:
- 강화된 하이퍼바이저
- 인스턴스 메모리 및 CPU 격리
- VPC 및 서브넷 격리
- 암호화된 스토리지 볼륨
- API 호출 인증 및 권한 부여

### 규정 준수 프로그램
AWS는 다양한 규정 준수 프로그램을 통해 인프라의 보안 및 규정 준수를 입증합니다.

**주요 책임**:
- 글로벌 규정 준수 인증 획득 및 유지
- 제3자 감사 및 평가 수행
- 규정 준수 보고서 제공
- 고객 규정 준수 지원
- 지속적인 규정 준수 모니터링

**주요 인증 및 규정 준수 프로그램**:
- ISO 27001, 27017, 27018
- SOC 1, SOC 2, SOC 3
- PCI DSS
- HIPAA BAA
- FedRAMP
- GDPR
- FIPS 140-2
- NIST 800-53

## 고객의 책임 영역

### 데이터 암호화
고객은 자신의 데이터를 보호하기 위한 암호화 구현 및 관리를 책임집니다.

**주요 책임**:
- 저장 데이터 암호화 구성
- 전송 중 데이터 암호화 구성
- 암호화 키 관리
- 암호화 알고리즘 및 강도 선택
- 민감한 데이터 식별 및 분류

**구현 방법**:
- AWS KMS 또는 CloudHSM 사용
- S3 서버 측 암호화 활성화
- EBS 볼륨 암호화
- RDS 데이터베이스 암호화
- SSL/TLS 인증서 구성

### 네트워크 트래픽 보호
고객은 자신의 VPC 내에서 네트워크 트래픽을 보호하고 제어할 책임이 있습니다.

**주요 책임**:
- VPC 설계 및 구성
- 서브넷 구성 및 라우팅 테이블 관리
- 보안 그룹 및 NACL 규칙 정의
- 인터넷 게이트웨이 및 NAT 게이트웨이 관리
- VPN 및 Direct Connect 연결 구성

**구현 방법**:
- 최소 권한 원칙에 따른 보안 그룹 규칙
- 퍼블릭 및 프라이빗 서브넷 적절한 사용
- VPC 흐름 로그 활성화
- 네트워크 트래픽 모니터링
- 침입 탐지/방지 시스템 구현

### 운영 체제, 네트워크, 방화벽 구성
고객은 EC2 인스턴스 및 기타 컴퓨팅 리소스의 운영 체제 및 소프트웨어 구성을 책임집니다.

**주요 책임**:
- 운영 체제 패치 및 업데이트
- 호스트 기반 방화벽 구성
- 악성 코드 방지
- 취약점 관리
- 로깅 및 모니터링 구성

**구현 방법**:
- 정기적인 패치 관리 프로세스
- AWS Systems Manager 사용
- 호스트 기반 IDS/IPS 구현
- Amazon Inspector 취약점 스캔
- 로그 집계 및 분석

### IAM 관리
고객은 자신의 AWS 계정 내에서 ID 및 액세스 관리를 책임집니다.

**주요 책임**:
- IAM 사용자, 그룹, 역할 관리
- 권한 및 정책 구성
- 최소 권한 원칙 적용
- 자격 증명 수명 주기 관리
- 다중 인증(MFA) 구현

**구현 방법**:
- IAM 정책 및 권한 경계 사용
- 역할 기반 액세스 제어 구현
- 임시 자격 증명 사용
- AWS Organizations 및 SCP 활용
- IAM Access Analyzer 사용

### 고객 데이터
고객은 자신의 데이터에 대한 완전한 책임이 있으며, 이는 데이터의 분류, 관리, 보호를 포함합니다.

**주요 책임**:
- 데이터 분류 및 처리
- 데이터 백업 및 복구
- 데이터 보존 및 삭제
- 개인 정보 보호
- 데이터 액세스 제어

**구현 방법**:
- 데이터 분류 체계 개발
- AWS Backup 사용
- S3 수명 주기 정책 구성
- 데이터 액세스 로깅 및 모니터링
- 데이터 손실 방지(DLP) 솔루션 구현

## 서비스 모델별 책임 분담

### IaaS (Infrastructure as a Service)
IaaS 모델에서는 고객이 운영 체제부터 애플리케이션까지 모든 계층을 관리합니다.

**AWS 책임**:
- 물리적 인프라
- 네트워크 인프라
- 가상화 계층
- 호스트 하드웨어

**고객 책임**:
- 게스트 운영 체제
- 애플리케이션
- 데이터
- 네트워크 구성
- 패치 관리
- 액세스 관리

**AWS IaaS 예시**:
- Amazon EC2
- Amazon EBS
- Amazon VPC

**책임 분담 시각화**:
```
+--------------------------------------------------+
|                  고객 데이터                      |
+--------------------------------------------------+
|                  애플리케이션                     |
+--------------------------------------------------+
|                  게스트 OS                        | ← 고객 책임
+--------------------------------------------------+
|                  네트워크 구성                    |
+--------------------------------------------------+
|                  방화벽 구성                      |
+--------------------------------------------------+ ← 책임 경계
|                  하이퍼바이저                     |
+--------------------------------------------------+
|                  네트워크                         |
+--------------------------------------------------+
|                  물리적 인프라                    | ← AWS 책임
+--------------------------------------------------+
|                  물리적 보안                      |
+--------------------------------------------------+
```

### PaaS (Platform as a Service)
PaaS 모델에서는 AWS가 운영 체제 및 플랫폼을 관리하고, 고객은 애플리케이션과 데이터를 관리합니다.

**AWS 책임**:
- 물리적 인프라
- 네트워크 인프라
- 가상화 계층
- 운영 체제
- 애플리케이션 플랫폼

**고객 책임**:
- 애플리케이션 코드
- 데이터
- 애플리케이션 구성
- 사용자 인증 및 권한 부여
- 애플리케이션 수준 보안

**AWS PaaS 예시**:
- AWS Elastic Beanstalk
- AWS Lambda
- Amazon RDS
- Amazon EMR

**책임 분담 시각화**:
```
+--------------------------------------------------+
|                  고객 데이터                      |
+--------------------------------------------------+
|                  애플리케이션                     | ← 고객 책임
+--------------------------------------------------+
|                  애플리케이션 구성                |
+--------------------------------------------------+ ← 책임 경계
|                  런타임                           |
+--------------------------------------------------+
|                  미들웨어                         |
+--------------------------------------------------+
|                  운영 체제                        |
+--------------------------------------------------+
|                  가상화                           | ← AWS 책임
+--------------------------------------------------+
|                  서버 및 스토리지                 |
+--------------------------------------------------+
|                  네트워킹                         |
+--------------------------------------------------+
|                  데이터 센터                      |
+--------------------------------------------------+
```

### SaaS (Software as a Service)
SaaS 모델에서는 AWS와 서비스 제공업체가 대부분의 구성 요소를 관리하고, 고객은 주로 데이터와 사용자 액세스만 관리합니다.

**AWS/서비스 제공업체 책임**:
- 물리적 인프라
- 네트워크 인프라
- 가상화 계층
- 운영 체제
- 애플리케이션 플랫폼
- 애플리케이션 소프트웨어
- 애플리케이션 보안

**고객 책임**:
- 데이터
- 사용자 액세스 관리
- 클라이언트 디바이스 보안
- 계정 보안

**AWS SaaS 예시**:
- Amazon WorkMail
- Amazon WorkSpaces
- Amazon Chime
- AWS Security Hub

**책임 분담 시각화**:
```
+--------------------------------------------------+
|                  고객 데이터                      | ← 고객 책임
+--------------------------------------------------+
|                  사용자 액세스                    |
+--------------------------------------------------+ ← 책임 경계
|                  애플리케이션                     |
+--------------------------------------------------+
|                  애플리케이션 구성                |
+--------------------------------------------------+
|                  런타임                           |
+--------------------------------------------------+
|                  미들웨어                         | ← AWS/서비스
+--------------------------------------------------+   제공업체 책임
|                  운영 체제                        |
+--------------------------------------------------+
|                  가상화                           |
+--------------------------------------------------+
|                  서버 및 스토리지                 |
+--------------------------------------------------+
|                  네트워킹                         |
+--------------------------------------------------+
|                  데이터 센터                      |
+--------------------------------------------------+
```

### 서버리스 컴퓨팅
서버리스 모델에서는 AWS가 인프라 관리의 대부분을 담당하고, 고객은 코드와 구성에 집중합니다.

**AWS 책임**:
- 물리적 인프라
- 네트워크 인프라
- 가상화 계층
- 운영 체제
- 런타임 환경
- 확장성 및 가용성
- 패치 관리

**고객 책임**:
- 함수/코드
- 데이터
- 함수 구성
- 권한 설정
- 의존성 관리

**AWS 서버리스 예시**:
- AWS Lambda
- Amazon API Gateway
- AWS Step Functions
- Amazon EventBridge

**책임 분담 시각화**:
```
+--------------------------------------------------+
|                  고객 데이터                      |
+--------------------------------------------------+
|                  함수/코드                        | ← 고객 책임
+--------------------------------------------------+
|                  함수 구성                        |
+--------------------------------------------------+ ← 책임 경계
|                  런타임 환경                      |
+--------------------------------------------------+
|                  컴퓨팅 리소스                    |
+--------------------------------------------------+
|                  운영 체제                        | ← AWS 책임
+--------------------------------------------------+
|                  가상화                           |
+--------------------------------------------------+
|                  서버 및 스토리지                 |
+--------------------------------------------------+
|                  네트워킹                         |
+--------------------------------------------------+
|                  데이터 센터                      |
+--------------------------------------------------+
```

## 공동 책임 모델 적용 사례

### 웹 애플리케이션 호스팅 (EC2)
EC2 인스턴스에서 웹 애플리케이션을 호스팅하는 경우의 책임 분담 예시입니다.

**AWS 책임**:
- EC2 인스턴스가 실행되는 물리적 서버 보안
- 하이퍼바이저 보안 및 패치
- 데이터 센터 물리적 보안
- 네트워크 인프라 보안
- 기본 스토리지 인프라 보안

**고객 책임**:
- EC2 인스턴스의 운영 체제 패치
- 웹 서버 소프트웨어 설치 및 보안 구성
- 애플리케이션 코드 보안
- 데이터베이스 보안 구성
- 방화벽 및 보안 그룹 구성
- SSL/TLS 인증서 관리
- 사용자 인증 및 권한 부여
- 데이터 백업 및 복구

### 데이터베이스 관리 (RDS vs EC2 기반 DB)
관리형 데이터베이스 서비스(RDS)와 EC2에 직접 설치한 데이터베이스의 책임 분담 차이입니다.

**RDS (관리형 서비스)**:
- **AWS 책임**:
  - 데이터베이스 엔진 설치 및 패치
  - 기본 운영 체제 패치
  - 데이터베이스 백업 자동화
  - 고가용성 구성
  - 하드웨어 프로비저닝 및 유지 관리
  - 스토리지 관리

- **고객 책임**:
  - 데이터베이스 스키마 설계
  - 네트워크 액세스 제어
  - 사용자 계정 관리
  - 데이터베이스 파라미터 구성
  - 쿼리 최적화
  - 데이터 암호화 구성

**EC2 기반 데이터베이스**:
- **AWS 책임**:
  - 물리적 인프라 보안
  - 하이퍼바이저 보안
  - 네트워크 인프라

- **고객 책임**:
  - 운영 체제 설치 및 패치
  - 데이터베이스 소프트웨어 설치 및 패치
  - 데이터베이스 구성 및 보안
  - 백업 및 복구 구현
  - 고가용성 구성
  - 성능 모니터링 및 튜닝
  - 스토리지 관리
  - 모든 데이터베이스 관련 작업

### 서버리스 애플리케이션 (Lambda)
서버리스 아키텍처를 사용하는 경우의 책임 분담 예시입니다.

**AWS 책임**:
- 런타임 환경 제공 및 유지 관리
- 자동 확장 및 고가용성
- 기본 컴퓨팅 리소스 관리
- 운영 체제 패치 및 보안
- 네트워크 인프라
- 로깅 인프라

**고객 책임**:
- 함수 코드 보안
- 의존성 패키지 관리
- 함수 구성 (메모리, 시간 제한 등)
- IAM 역할 및 권한 설정
- 이벤트 소스 구성
- 데이터 암호화
- 로깅 및 모니터링 구성

### 컨테이너 워크로드 (ECS/EKS)
컨테이너 오케스트레이션 서비스를 사용하는 경우의 책임 분담 예시입니다.

**AWS 책임**:
- 컨테이너 오케스트레이션 플랫폼 관리
- 기본 인프라 보안
- 컨트롤 플레인 보안 (EKS의 경우)
- 네트워크 인프라
- 물리적 보안

**고객 책임**:
- 컨테이너 이미지 보안
- 애플리케이션 코드 보안
- 컨테이너 구성
- 네트워크 정책 및 보안 그룹
- 비밀 관리
- 로깅 및 모니터링
- 컨테이너 간 통신 보안

## 공동 책임 모델 모범 사례

### 보안 평가 및 계획
공동 책임 모델을 효과적으로 구현하기 위한 보안 평가 및 계획 방법입니다.

**주요 모범 사례**:
- 사용 중인 AWS 서비스별 책임 경계 문서화
- 보안 책임 매트릭스 작성
- 정기적인 보안 평가 수행
- 클라우드 보안 프레임워크 채택 (예: AWS CAF, NIST CSF)
- 보안 요구 사항을 아키텍처 설계에 통합

**구현 도구**:
- AWS Trusted Advisor
- AWS Security Hub
- AWS Well-Architected Tool
- AWS Compliance Programs

### 지속적인 모니터링 및 감사
보안 상태를 지속적으로 모니터링하고 감사하는 방법입니다.

**주요 모범 사례**:
- 중앙 집중식 로깅 구현
- 보안 이벤트 모니터링 자동화
- 정기적인 보안 감사 수행
- 취약점 스캔 및 침투 테스트 실시
- 규정 준수 모니터링 자동화

**구현 도구**:
- Amazon CloudWatch
- AWS CloudTrail
- AWS Config
- Amazon GuardDuty
- AWS Security Hub
- Amazon Inspector

### 자동화된 보안 제어
보안 제어를 자동화하여 인적 오류를 줄이고 일관성을 유지하는 방법입니다.

**주요 모범 사례**:
- 인프라를 코드로 관리 (IaC)
- 보안 구성 자동화
- 패치 관리 자동화
- 정책 적용 자동화
- 자동화된 대응 구현

**구현 도구**:
- AWS CloudFormation
- AWS Systems Manager
- AWS Config Rules
- AWS Lambda (자동화된 대응)
- AWS Security Hub

### 최소 권한 원칙 적용
필요한 최소한의 권한만 부여하여 보안 위험을 줄이는 방법입니다.

**주요 모범 사례**:
- 기본적으로 모든 액세스 거부
- 작업 수행에 필요한 최소 권한만 부여
- 권한 정기적 검토 및 불필요한 권한 제거
- 임시 자격 증명 사용
- 권한 경계 구현

**구현 도구**:
- IAM 정책
- IAM 권한 경계
- AWS Organizations 및 SCP
- IAM Access Analyzer
- AWS SSO

### 데이터 보호 전략
데이터를 보호하기 위한 포괄적인 전략을 구현하는 방법입니다.

**주요 모범 사례**:
- 저장 데이터 암호화
- 전송 중 데이터 암호화
- 키 관리 전략 수립
- 데이터 분류 및 처리 정책 구현
- 백업 및 복구 전략 수립

**구현 도구**:
- AWS KMS
- AWS CloudHSM
- Amazon Macie
- AWS Backup
- Amazon S3 암호화
- AWS Certificate Manager

## 결론
AWS 공동 책임 모델은 클라우드 보안의 기본 프레임워크로, AWS와 고객 간의 보안 책임을 명확하게 구분합니다. AWS는 "클라우드 자체의 보안"을 책임지고, 고객은 "클라우드 내부의 보안"을 책임집니다. 서비스 모델(IaaS, PaaS, SaaS, 서버리스)에 따라 책임 경계가 달라지므로, 사용하는 서비스에 맞는 보안 전략을 수립하는 것이 중요합니다. 공동 책임 모델을 효과적으로 구현하기 위해서는 보안 평가 및 계획, 지속적인 모니터링 및 감사, 자동화된 보안 제어, 최소 권한 원칙 적용, 데이터 보호 전략 등의 모범 사례를 따라야 합니다.

## 참고 자료
- [AWS 공동 책임 모델](https://aws.amazon.com/ko/compliance/shared-responsibility-model/)
- [AWS 보안 모범 사례](https://docs.aws.amazon.com/ko_kr/wellarchitected/latest/security-pillar/welcome.html)
- [AWS 클라우드 보안](https://aws.amazon.com/ko/security/)
- [AWS 규정 준수 프로그램](https://aws.amazon.com/ko/compliance/programs/)
- [AWS 보안 블로그](https://aws.amazon.com/ko/blogs/security/)