<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="userGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4CAF50;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2E7D32;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="groupGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2196F3;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1565C0;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="roleGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF9800;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#F57C00;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="policyGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#9C27B0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6A1B9A;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="400" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#333">
    IAM 구성 요소 = 회사 출입카드 시스템
  </text>
  
  <!-- Building outline -->
  <rect x="50" y="80" width="700" height="480" rx="10" fill="none" stroke="#666" stroke-width="3" stroke-dasharray="10,5"/>
  <text x="400" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#666">
    AWS 계정 (회사 건물)
  </text>
  
  <!-- Users Section -->
  <g transform="translate(80, 140)">
    <rect x="0" y="0" width="150" height="180" rx="8" fill="url(#userGrad)" opacity="0.9"/>
    <text x="75" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
      👤 사용자 (User)
    </text>
    <text x="75" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
      직원
    </text>
    
    <!-- Individual users -->
    <circle cx="30" cy="70" r="15" fill="white" opacity="0.8"/>
    <text x="30" y="75" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2E7D32">김개발</text>
    
    <circle cx="75" cy="70" r="15" fill="white" opacity="0.8"/>
    <text x="75" y="75" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2E7D32">박운영</text>
    
    <circle cx="120" cy="70" r="15" fill="white" opacity="0.8"/>
    <text x="120" y="75" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2E7D32">이분석</text>
    
    <text x="10" y="110" font-family="Arial, sans-serif" font-size="11" fill="white">• 개별 신원</text>
    <text x="10" y="125" font-family="Arial, sans-serif" font-size="11" fill="white">• 고유 자격증명</text>
    <text x="10" y="140" font-family="Arial, sans-serif" font-size="11" fill="white">• 콘솔/API 접근</text>
    <text x="10" y="155" font-family="Arial, sans-serif" font-size="11" fill="white">• MFA 설정 가능</text>
  </g>
  
  <!-- Groups Section -->
  <g transform="translate(260, 140)">
    <rect x="0" y="0" width="150" height="180" rx="8" fill="url(#groupGrad)" opacity="0.9"/>
    <text x="75" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
      👥 그룹 (Group)
    </text>
    <text x="75" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
      부서
    </text>
    
    <!-- Group boxes -->
    <rect x="10" y="60" width="130" height="25" rx="3" fill="white" opacity="0.8"/>
    <text x="75" y="75" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1565C0">개발팀</text>
    
    <rect x="10" y="90" width="130" height="25" rx="3" fill="white" opacity="0.8"/>
    <text x="75" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1565C0">운영팀</text>
    
    <rect x="10" y="120" width="130" height="25" rx="3" fill="white" opacity="0.8"/>
    <text x="75" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#1565C0">분석팀</text>
    
    <text x="10" y="160" font-family="Arial, sans-serif" font-size="11" fill="white">• 사용자 집합</text>
    <text x="10" y="175" font-family="Arial, sans-serif" font-size="11" fill="white">• 권한 관리 효율화</text>
  </g>
  
  <!-- Roles Section -->
  <g transform="translate(440, 140)">
    <rect x="0" y="0" width="150" height="180" rx="8" fill="url(#roleGrad)" opacity="0.9"/>
    <text x="75" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
      🎭 역할 (Role)
    </text>
    <text x="75" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
      임시 방문증
    </text>
    
    <!-- Role examples -->
    <rect x="10" y="60" width="130" height="20" rx="3" fill="white" opacity="0.8"/>
    <text x="75" y="72" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#F57C00">EC2-S3-Role</text>
    
    <rect x="10" y="85" width="130" height="20" rx="3" fill="white" opacity="0.8"/>
    <text x="75" y="97" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#F57C00">Lambda-Role</text>
    
    <rect x="10" y="110" width="130" height="20" rx="3" fill="white" opacity="0.8"/>
    <text x="75" y="122" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#F57C00">CrossAccount-Role</text>
    
    <text x="10" y="145" font-family="Arial, sans-serif" font-size="11" fill="white">• 임시 권한 위임</text>
    <text x="10" y="160" font-family="Arial, sans-serif" font-size="11" fill="white">• 자동 만료</text>
    <text x="10" y="175" font-family="Arial, sans-serif" font-size="11" fill="white">• 서비스 간 접근</text>
  </g>
  
  <!-- Policies Section -->
  <g transform="translate(620, 140)">
    <rect x="0" y="0" width="150" height="180" rx="8" fill="url(#policyGrad)" opacity="0.9"/>
    <text x="75" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
      📋 정책 (Policy)
    </text>
    <text x="75" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
      출입 규칙
    </text>
    
    <!-- Policy document -->
    <rect x="10" y="60" width="130" height="80" rx="3" fill="white" opacity="0.9"/>
    <text x="15" y="75" font-family="Arial, sans-serif" font-size="8" fill="#6A1B9A">{</text>
    <text x="20" y="85" font-family="Arial, sans-serif" font-size="8" fill="#6A1B9A">"Effect": "Allow",</text>
    <text x="20" y="95" font-family="Arial, sans-serif" font-size="8" fill="#6A1B9A">"Action": "s3:GetObject",</text>
    <text x="20" y="105" font-family="Arial, sans-serif" font-size="8" fill="#6A1B9A">"Resource": "arn:aws:s3:::*"</text>
    <text x="15" y="115" font-family="Arial, sans-serif" font-size="8" fill="#6A1B9A">}</text>
    
    <text x="10" y="155" font-family="Arial, sans-serif" font-size="11" fill="white">• JSON 문서</text>
    <text x="10" y="170" font-family="Arial, sans-serif" font-size="11" fill="white">• Allow/Deny 규칙</text>
  </g>
  
  <!-- Relationship arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>
  
  <!-- User to Group -->
  <line x1="230" y1="230" x2="260" y2="230" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="245" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">소속</text>
  
  <!-- Group to Policy -->
  <line x1="410" y1="230" x2="620" y2="230" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="515" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">적용</text>
  
  <!-- Role to Policy -->
  <line x1="590" y1="250" x2="620" y2="250" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Example scenario -->
  <g transform="translate(80, 360)">
    <rect x="0" y="0" width="640" height="120" rx="8" fill="#E8F5E8" stroke="#4CAF50" stroke-width="2"/>
    <text x="320" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2E7D32">
      실제 시나리오 예시
    </text>
    
    <text x="20" y="50" font-family="Arial, sans-serif" font-size="14" fill="#333">
      김개발 (사용자) → 개발팀 (그룹) → EC2FullAccess + S3ReadOnly (정책)
    </text>
    <text x="20" y="70" font-family="Arial, sans-serif" font-size="12" fill="#666">
      • 김개발은 개발팀 그룹에 속함
    </text>
    <text x="20" y="85" font-family="Arial, sans-serif" font-size="12" fill="#666">
      • 개발팀 그룹에는 EC2 완전 관리 권한과 S3 읽기 권한이 부여됨
    </text>
    <text x="20" y="100" font-family="Arial, sans-serif" font-size="12" fill="#666">
      • 김개발은 그룹을 통해 이 권한들을 상속받음
    </text>
  </g>
  
  <!-- Security note -->
  <g transform="translate(80, 500)">
    <rect x="0" y="0" width="640" height="40" rx="5" fill="#FFF3E0" stroke="#FF9800" stroke-width="1"/>
    <text x="20" y="20" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#E65100">
      🔒 보안 원칙: 최소 권한 (Principle of Least Privilege)
    </text>
    <text x="20" y="35" font-family="Arial, sans-serif" font-size="11" fill="#333">
      각 사용자/역할에게는 업무 수행에 필요한 최소한의 권한만 부여
    </text>
  </g>
</svg>