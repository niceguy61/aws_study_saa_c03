# 네트워크 보안 기초 및 하이브리드 네트워킹

## 슬라이드 1: 네트워크 보안 개요
- AWS 클라우드에서 네트워크 보안의 중요성
- 심층 방어(Defense in Depth) 전략 구현
- 네트워크 트래픽 제어 및 모니터링
- 데이터 보호 및 암호화
- 규정 준수 요구 사항 충족
- **비유**: 집의 여러 보안 계층(담장, 잠금장치, 경보 시스템)과 같은 개념
- **목표**: 안전하고 복원력 있는 네트워크 인프라 구축

![네트워크 보안 개요](./images/network_security_overview.svg)

## 슬라이드 2: VPC 보안 계층
- **다중 계층 보안 접근 방식**:
  - 네트워크 경계 보안
  - 서브넷 수준 보안
  - 인스턴스 수준 보안
  - 애플리케이션 수준 보안
- **보안 구성 요소**:
  - 보안 그룹: 인스턴스 수준 방화벽
  - 네트워크 ACL: 서브넷 수준 방화벽
  - 라우팅 테이블: 트래픽 흐름 제어
  - VPC 엔드포인트: 프라이빗 서비스 액세스
  - 네트워크 모니터링: 트래픽 가시성
- **비유**: 아파트 단지의 보안 시스템(단지 입구, 건물 출입구, 현관문, 방문 통제)

![VPC 보안 계층](./images/vpc_security_layers.svg)

## 슬라이드 3: 네트워크 보안 기본 원칙
- **최소 권한 원칙**:
  - 필요한 최소한의 액세스만 허용
  - 기본적으로 모든 트래픽 거부 후 필요한 트래픽만 허용
  - 정기적인 권한 검토 및 조정
  - **비유**: 집에 들어오는 사람들에게 필요한 방에만 출입 허용
- **심층 방어**:
  - 여러 보안 계층 구현
  - 단일 장애 지점 방지
  - 다양한 보안 제어 조합
  - **비유**: 집 보안을 위한 담장, 잠금장치, 경보 시스템 등 여러 계층 사용
- **네트워크 세분화**:
  - 기능별 서브넷 분리
  - 보안 요구 사항에 따른 네트워크 분리
  - 마이크로 세분화를 통한 세밀한 액세스 제어
  - **비유**: 집의 각 방에 다른 잠금장치 설치

## 슬라이드 4: 보안 그룹 모범 사례
- **최소 권한 설계**:
  - 필요한 포트만 개방
  - 특정 소스/대상 IP 제한
  - 와일드카드(*) 사용 최소화
  - **비유**: 집에 필요한 문만 열어두고 나머지는 잠그기
- **논리적 그룹화**:
  - 기능별 보안 그룹 생성 (웹, 앱, 데이터베이스 등)
  - 계층적 보안 그룹 설계
  - 재사용 가능한 보안 그룹 모듈화
  - **비유**: 가족, 친구, 방문객별로 다른 출입 규칙 적용
- **보안 그룹 참조 활용**:
  - IP 범위 대신 보안 그룹 ID 참조
  - 동적 환경에서 유연성 제공
  - 관리 복잡성 감소
  - **비유**: 특정 그룹에 속한 사람들에게만 특정 방 출입 허용
- **정기적인 검토 및 정리**:
  - 미사용 규칙 제거
  - 과도하게 허용적인 규칙 식별 및 수정
  - 규칙 설명 추가로 문서화
  - **비유**: 정기적으로 출입 권한 목록 검토 및 업데이트

## 슬라이드 5: 네트워크 ACL 모범 사례
- **기본 거부 정책**:
  - 기본적으로 모든 트래픽 거부
  - 필요한 트래픽만 명시적으로 허용
  - 규칙 번호 간격 유지 (향후 규칙 삽입 용이)
  - **비유**: 아파트 단지 입구에서 모든 방문객 기본 차단, 허가된 방문객만 입장
- **임시 포트 고려**:
  - 아웃바운드 트래픽에 대한 인바운드 임시 포트(1024-65535) 허용
  - 인바운드 트래픽에 대한 아웃바운드 임시 포트 허용
  - **비유**: 대화를 시작한 사람의 응답을 받을 수 있도록 허용
- **서브넷 유형별 NACL 분리**:
  - 퍼블릭 서브넷용 NACL
  - 프라이빗 애플리케이션 서브넷용 NACL
  - 데이터베이스 서브넷용 NACL
  - **비유**: 아파트 단지 내 상가, 주거 구역, 관리 구역별 다른 출입 규칙
- **특정 위협 차단**:
  - 알려진 악성 IP 주소 차단
  - 특정 유형의 트래픽 제한
  - 비정상적인 패턴 필터링
  - **비유**: 블랙리스트에 있는 방문객 출입 금지

## 슬라이드 6: 네트워크 트래픽 암호화
- **전송 중 데이터 암호화**:
  - HTTPS/TLS: 웹 트래픽 암호화
  - VPN: 사이트 간 또는 클라이언트-사이트 간 암호화된 터널
  - IPsec: 네트워크 계층 암호화
  - AWS PrivateLink: AWS 서비스 간 프라이빗 통신
  - **비유**: 비밀 대화를 위한 암호화된 전화선 사용
- **암호화 모범 사례**:
  - 최신 암호화 프로토콜 사용 (TLS 1.2 이상)
  - 강력한 암호 제품군 구성
  - 인증서 자동 갱신 및 관리
  - 정기적인 암호화 설정 검토
  - **비유**: 정기적으로 암호 체계 업데이트 및 강화

![네트워크 트래픽 암호화](./images/network_encryption.svg)

## 슬라이드 7: VPC 엔드포인트 보안
- **게이트웨이 엔드포인트 보안**:
  - 엔드포인트 정책을 통한 액세스 제어
  - 특정 S3 버킷 또는 DynamoDB 테이블로 액세스 제한
  - 특정 IAM 역할 또는 사용자로 액세스 제한
  - **비유**: 특정 상점에만 갈 수 있는 비공개 통로
- **인터페이스 엔드포인트 보안**:
  - 보안 그룹을 통한 액세스 제어
  - 프라이빗 DNS 이름 활성화/비활성화
  - 엔드포인트 정책을 통한 세분화된 액세스 제어
  - **비유**: 건물 내부에서 특정 서비스에 직접 연결되는 전용 엘리베이터
- **모범 사례**:
  - 필요한 서비스에 대해서만 엔드포인트 생성
  - 최소 권한 엔드포인트 정책 구성
  - 엔드포인트 액세스 로깅 및 모니터링
  - **비유**: 필요한 서비스에만 전용 통로 설치 및 이용 기록 관리

## 슬라이드 8: 네트워크 모니터링 및 로깅
- **VPC 흐름 로그**:
  - 네트워크 인터페이스의 트래픽 캡처
  - 보안 분석 및 문제 해결에 활용
  - CloudWatch Logs 또는 S3에 저장
  - **비유**: CCTV로 모든 출입 기록 저장
- **CloudWatch 지표**:
  - 네트워크 처리량, 패킷, 오류 모니터링
  - 이상 탐지 및 경보 설정
  - 대시보드를 통한 시각화
  - **비유**: 건물 내 모든 활동을 실시간으로 모니터링하는 관제 시스템
- **AWS Config**:
  - 네트워크 리소스 구성 변경 추적
  - 규정 준수 규칙 적용
  - 구성 편차 감지
  - **비유**: 보안 시스템 설정 변경 기록 및 감사
- **GuardDuty**:
  - 네트워크 위협 탐지
  - 비정상적인 트래픽 패턴 식별
  - 자동화된 대응 조치 트리거
  - **비유**: 수상한 행동을 감지하는 지능형 보안 시스템

## 슬라이드 9: 네트워크 침입 탐지 및 방지
- **AWS Network Firewall**:
  - 상태 저장 네트워크 방화벽
  - 침입 탐지 및 방지 기능
  - 도메인 필터링 및 프로토콜 검사
  - **비유**: 고급 보안 검색대로 모든 출입자 검사
- **AWS WAF(Web Application Firewall)**:
  - 웹 애플리케이션 보호
  - SQL 인젝션, XSS 등 일반적인 웹 취약점 방어
  - 사용자 지정 규칙 및 관리형 규칙
  - **비유**: 웹사이트 방문자의 악의적인 행동 차단
- **AWS Shield**:
  - DDoS 공격 방어
  - 자동 탐지 및 완화
  - 네트워크 및 전송 계층 보호
  - **비유**: 대규모 무단 침입 시도로부터 건물 보호
- **구현 전략**:
  - 검사 VPC 구성
  - 트래픽 미러링을 통한 심층 분석
  - 중앙 집중식 보안 관리
  - **비유**: 모든 출입구에 보안 검색대 설치 및 중앙 관제

## 슬라이드 10: 하이브리드 네트워킹 개요
- 온프레미스 네트워크와 AWS 클라우드 간의 연결
- 일관된 네트워크 정책 및 제어 적용
- 워크로드 이동성 및 유연성 제공
- **비유**: 본사와 지사 간의 안전한 통신 채널 구축
- **주요 사용 사례**:
  - 클라우드 마이그레이션
  - 재해 복구 및 비즈니스 연속성
  - 하이브리드 애플리케이션 배포
  - 데이터 복제 및 백업

![하이브리드 네트워킹 개요](./images/hybrid_networking_overview.svg)

## 슬라이드 11: VPC 연결 옵션
- **인터넷 기반 연결**:
  - VPN 연결
  - 낮은 비용, 쉬운 설정
  - 공용 인터넷 의존
  - **비유**: 공용 도로를 통한 건물 간 이동
- **전용 연결**:
  - AWS Direct Connect
  - 일관된 성능, 높은 대역폭
  - 프라이빗 연결, 높은 보안
  - **비유**: 두 건물 사이의 전용 통로
- **하이브리드 연결**:
  - Direct Connect + VPN
  - 고가용성 및 보안 강화
  - 비용과 성능의 균형
  - **비유**: 주 통로와 백업 통로 모두 구축

![VPC 연결 옵션](./images/vpc_connectivity_options.svg)

## 슬라이드 12: AWS Site-to-Site VPN 보안
- **VPN 터널 보안**:
  - IPsec 암호화 및 무결성 보호
  - 사전 공유 키(PSK) 또는 인증서 기반 인증
  - 정기적인 키 교체
  - **비유**: 암호화된 비밀 통로로 두 위치 연결
- **라우팅 보안**:
  - BGP 인증 구성
  - 경로 필터링 및 접두사 제한
  - 정적 라우팅 검증
  - **비유**: 허가된 경로만 사용할 수 있는 내비게이션 시스템
- **고가용성 및 복원력**:
  - 중복 VPN 터널 구성
  - 여러 고객 게이트웨이 장치 사용
  - 자동 장애 조치 메커니즘
  - **비유**: 주 도로가 막히면 자동으로 우회 도로 사용
- **모니터링 및 로깅**:
  - 터널 상태 모니터링
  - VPN 연결 지표 추적
  - 연결 이벤트 로깅
  - **비유**: 통로 상태 실시간 감시 및 기록

## 슬라이드 13: AWS Direct Connect 보안
- **물리적 보안**:
  - 전용 물리적 연결
  - 인증된 Direct Connect 위치
  - 중복 물리적 경로
  - **비유**: 두 건물 사이의 전용 지하 통로
- **네트워크 보안**:
  - 802.1Q VLAN 분리
  - MAC 보안(MACsec) 암호화 (지원되는 위치)
  - BGP 인증 및 필터링
  - **비유**: 하나의 통로 내 여러 개의 분리된 레인
- **고가용성 설계**:
  - 여러 Direct Connect 위치 사용
  - 여러 가상 인터페이스 구성
  - Direct Connect와 VPN 결합
  - **비유**: 여러 개의 독립적인 통로로 연결 중복성 확보
- **모범 사례**:
  - 프라이빗 VIF와 퍼블릭 VIF 분리
  - 라우팅 정책 및 필터 구현
  - 정기적인 연결 테스트 및 장애 조치 훈련
  - **비유**: 내부용과 외부용 통로 분리 및 정기적인 비상 훈련

## 슬라이드 14: Transit Gateway 보안
- **네트워크 세분화**:
  - 여러 라우팅 테이블을 통한 트래픽 격리
  - 선택적 VPC 연결
  - 라우팅 정책을 통한 트래픽 제어
  - **비유**: 중앙 교통 허브에서 특정 목적지로만 이동 허용
- **중앙 집중식 보안 제어**:
  - 검사 VPC를 통한 트래픽 필터링
  - 네트워크 방화벽 통합
  - 중앙 집중식 로깅 및 모니터링
  - **비유**: 모든 교통이 중앙 검문소를 통과하도록 설계
- **액세스 제어**:
  - 리소스 기반 정책
  - IAM 권한을 통한 관리 액세스 제어
  - 태그 기반 액세스 제어
  - **비유**: 중앙 허브 관리자 권한 세분화
- **암호화**:
  - VPN 연결을 통한 암호화
  - Transit Gateway Connect를 통한 GRE 터널
  - **비유**: 허브 내 모든 통신 암호화

## 슬라이드 15: 하이브리드 DNS 설계
- **Route 53 Resolver**:
  - 온프레미스와 AWS 간의 DNS 쿼리 확인
  - 조건부 전달 규칙 구성
  - 인바운드 및 아웃바운드 엔드포인트
  - **비유**: 두 건물 간의 주소 번역 시스템
- **하이브리드 DNS 아키텍처**:
  - 중앙 집중식 DNS 관리
  - 분산 DNS 관리
  - 하이브리드 DNS 관리
  - **비유**: 통합된 주소록 시스템
- **보안 고려 사항**:
  - DNS 쿼리 필터링
  - DNSSEC 구현
  - 비공개 호스팅 영역 사용
  - DNS 방화벽 규칙 적용
  - **비유**: 주소 조회 요청 검증 및 보호
- **모범 사례**:
  - 고가용성을 위한 여러 엔드포인트 구성
  - 세분화된 전달 규칙 정의
  - DNS 쿼리 로깅 및 모니터링
  - **비유**: 중복 주소록 서버 및 조회 기록 유지

## 슬라이드 16: 하이브리드 클라우드 설계 패턴
- **확장된 네트워크 패턴**:
  - 온프레미스 네트워크를 AWS로 확장
  - 일관된 IP 주소 지정 체계
  - 통합된 라우팅 및 보안 정책
  - **비유**: 두 건물을 하나의 캠퍼스처럼 통합
  - 사용 사례: 데이터 센터 확장, 점진적 마이그레이션
- **세분화된 네트워크 패턴**:
  - 온프레미스와 AWS 간에 명확한 경계
  - 제어된 상호 연결 지점
  - 독립적인 네트워크 관리
  - **비유**: 별도 관리되는 두 건물 간의 제한된 연결 통로
  - 사용 사례: 규제 대상 워크로드, 보안 격리 요구 사항
- **중앙 집중식 아웃바운드 패턴**:
  - 중앙 집중식 인터넷 액세스
  - 통합된 보안 제어 및 모니터링
  - 트래픽 검사 및 필터링
  - **비유**: 모든 외부 통신이 중앙 보안 게이트를 통과
  - 사용 사례: 엄격한 규정 준수 요구 사항, 중앙 집중식 보안 관리

## 슬라이드 17: 하이브리드 클라우드 보안 모범 사례
- **일관된 보안 정책**:
  - 온프레미스와 클라우드 전반에 걸친 일관된 보안 제어
  - 중앙 집중식 정책 관리
  - 자동화된 정책 배포
  - **비유**: 모든 건물에 동일한 보안 규칙 적용
- **ID 및 액세스 관리**:
  - 통합된 ID 관리
  - 페더레이션 인증
  - 최소 권한 액세스 제어
  - **비유**: 하나의 출입 카드로 모든 시설 접근
- **네트워크 트래픽 보호**:
  - 전송 중 데이터 암호화
  - 세분화된 네트워크 제어
  - 심층 패킷 검사
  - **비유**: 모든 통신 채널 암호화 및 검사
- **모니터링 및 감사**:
  - 중앙 집중식 로깅 및 모니터링
  - 이상 탐지 및 대응
  - 규정 준수 감사 및 보고
  - **비유**: 통합 보안 관제 센터 운영

## 슬라이드 18: 네트워크 자동화 및 인프라 코드화
- **Infrastructure as Code (IaC)**:
  - AWS CloudFormation
  - AWS CDK (Cloud Development Kit)
  - Terraform
  - 버전 제어 및 코드 검토
  - **비유**: 건물 설계도를 코드로 작성하여 자동 건설
- **네트워크 자동화 이점**:
  - 일관성 및 반복성
  - 오류 감소
  - 신속한 배포 및 확장
  - 감사 및 규정 준수 개선
  - **비유**: 수작업 대신 자동화된 시스템으로 보안 설정
- **자동화 모범 사례**:
  - 모듈식 설계
  - 파라미터화된 템플릿
  - 테스트 및 검증 파이프라인
  - 점진적 배포 및 롤백 계획
  - **비유**: 검증된 블록을 조합하여 안전하게 건물 구축

## 슬라이드 19: 네트워크 보안 및 하이브리드 네트워킹 모범 사례 요약
- **네트워크 설계**:
  - 심층 방어 전략 구현
  - 네트워크 세분화 및 격리
  - 확장성 및 복원력 고려
  - **비유**: 여러 층의 보안으로 건물 보호
- **보안 제어**:
  - 다중 계층 보안 구현
  - 최소 권한 원칙 적용
  - 암호화 및 인증 활용
  - **비유**: 출입구, 복도, 방마다 적절한 보안 조치
- **운영 우수성**:
  - 자동화 및 인프라 코드화
  - 포괄적인 모니터링 및 로깅
  - 정기적인 보안 평가 및 테스트
  - **비유**: 자동화된 보안 시스템과 정기적인 보안 점검
- **하이브리드 연결**:
  - 적절한 연결 옵션 선택
  - 고가용성 설계 구현
  - 일관된 정책 및 제어 적용
  - **비유**: 목적에 맞는 연결 방식과 중복 경로 확보

## 슬라이드 20: 핵심 요약 및 Q&A
- 네트워크 보안은 여러 계층의 방어 전략 필요
- 보안 그룹과 네트워크 ACL을 상호 보완적으로 활용
- 하이브리드 네트워킹은 온프레미스와 AWS 환경 간의 안전한 통합 제공
- 자동화 및 인프라 코드화를 통한 일관된 네트워크 구성 유지
- 지속적인 모니터링 및 개선을 통한 네트워크 보안 강화
- 질문 및 토론