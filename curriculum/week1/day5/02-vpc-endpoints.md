# Day 5-2: VPC μ—”λ“ν¬μΈνΈ

## π“ ν•™μµ λ©ν‘
- VPC μ—”λ“ν¬μΈνΈμ κ°λ…κ³Ό ν•„μ”μ„± μ΄ν•΄
- κ²μ΄νΈμ›¨μ΄ μ—”λ“ν¬μΈνΈμ™€ μΈν„°νμ΄μ¤ μ—”λ“ν¬μΈνΈ μ°¨μ΄μ  νμ•…
- S3 κ²μ΄νΈμ›¨μ΄ μ—”λ“ν¬μΈνΈ μ„¤μ • μ‹¤μµ
- EC2 μΈν„°νμ΄μ¤ μ—”λ“ν¬μΈνΈ κµ¬μ„± λ° ν™μ©

---

## π”— VPC μ—”λ“ν¬μΈνΈ κ°λ… (30λ¶„)

### VPC μ—”λ“ν¬μΈνΈλ€?

#### κΈ°μ΅΄ AWS μ„λΉ„μ¤ μ ‘κ·Ό λ°©μ‹μ λ¬Έμ μ 
```
κΈ°μ΅΄ λ°©μ‹: ν”„λΌμ΄λΉ— μ„λΈλ„· β†’ NAT β†’ μΈν„°λ„· β†’ AWS μ„λΉ„μ¤

λ¬Έμ μ :
β λ¶ν•„μ”ν• μΈν„°λ„· κ²½μ  (λ³΄μ• μ„ν—)
β NAT κ²μ΄νΈμ›¨μ΄ λΉ„μ© λ°μƒ
β λ€μ—­ν­ μ ν• λ° μ§€μ—°μ‹κ°„ μ¦κ°€
β λ°μ΄ν„° μ „μ†΅ λΉ„μ© μ¶”κ°€ λ°μƒ
β μ™Έλ¶€ λ„¤νΈμ›ν¬ μμ΅΄μ„±

μμ‹: S3 μ ‘κ·Ό
ν”„λΌμ΄λΉ— EC2 β†’ NAT Gateway β†’ Internet Gateway β†’ S3
- NAT λΉ„μ©: $0.059/μ‹κ°„ + $0.059/GB
- λ°μ΄ν„° μ „μ†΅ λΉ„μ©: μ¶”κ°€ λ°μƒ
- μ§€μ—°μ‹κ°„: μΈν„°λ„· κ²½μ λ΅ μ¦κ°€
```

#### VPC μ—”λ“ν¬μΈνΈ ν•΄κ²°μ±…
```
VPC μ—”λ“ν¬μΈνΈ λ°©μ‹: ν”„λΌμ΄λΉ— μ„λΈλ„· β†’ VPC μ—”λ“ν¬μΈνΈ β†’ AWS μ„λΉ„μ¤

μ¥μ :
β… ν”„λΌμ΄λΉ— μ—°κ²° (μΈν„°λ„· κ²½μ  μ—†μ)
β… NAT κ²μ΄νΈμ›¨μ΄ λΉ„μ© μ μ•½
β… ν–¥μƒλ λ³΄μ• (AWS λ°±λ³Έ λ„¤νΈμ›ν¬ μ‚¬μ©)
β… λ‚®μ€ μ§€μ—°μ‹κ°„
β… λ†’μ€ κ°€μ©μ„± (AWS κ΄€λ¦¬)
β… ν™•μ¥μ„± (μλ™ μ¤μΌ€μΌλ§)

λΉ„μ : μ „μ© μ—λ¦¬λ² μ΄ν„°
- μΌλ° μ—λ¦¬λ² μ΄ν„° (μΈν„°λ„·): μ—¬λ¬ μΈµ κ²½μ , λ€κΈ°μ‹κ°„
- μ „μ© μ—λ¦¬λ² μ΄ν„° (μ—”λ“ν¬μΈνΈ): μ§μ ‘ μ—°κ²°, λΉ λ¥Έ μ ‘κ·Ό
```

### VPC μ—”λ“ν¬μΈνΈ μ ν•

#### 1. κ²μ΄νΈμ›¨μ΄ μ—”λ“ν¬μΈνΈ (Gateway Endpoint)
```
μ§€μ› μ„λΉ„μ¤:
- Amazon S3
- Amazon DynamoDB

νΉμ§•:
β… λ¬΄λ£ (λ°μ΄ν„° μ „μ†΅ λΉ„μ©λ§ λ°μƒ)
β… λΌμ°ν… ν…μ΄λΈ” κΈ°λ° λ™μ‘
β… λ†’μ€ μ„±λ¥ (μ ν• μ—†μ)
β… κ°„λ‹¨ν• μ„¤μ •

μ‘λ™ λ°©μ‹:
1. λΌμ°ν… ν…μ΄λΈ”μ— μ—”λ“ν¬μΈνΈ κ²½λ΅ μλ™ μ¶”κ°€
2. S3/DynamoDB νΈλν”½μ„ μ—”λ“ν¬μΈνΈλ΅ λΌμ°ν…
3. AWS λ°±λ³Έ λ„¤νΈμ›ν¬λ¥Ό ν†µν• μ§μ ‘ μ—°κ²°

μ ν•μ‚¬ν•­:
β S3, DynamoDBλ§ μ§€μ›
β μ¨ν”„λ λ―Έμ¤μ—μ„ μ ‘κ·Ό λ¶κ°€
β λ‹¤λ¥Έ VPCμ—μ„ μ ‘κ·Ό λ¶κ°€
```

#### 2. μΈν„°νμ΄μ¤ μ—”λ“ν¬μΈνΈ (Interface Endpoint)
```
μ§€μ› μ„λΉ„μ¤:
- λ€λ¶€λ¶„μ AWS μ„λΉ„μ¤ (EC2, SSM, KMS, Secrets Manager λ“±)
- 100κ° μ΄μƒμ μ„λΉ„μ¤ μ§€μ›

νΉμ§•:
π’° μ‹κ°„λ‹Ή λΉ„μ© λ°μƒ ($0.014/μ‹κ°„ per AZ)
π’° λ°μ΄ν„° μ²λ¦¬ λΉ„μ© ($0.014/GB)
π” ENI (Elastic Network Interface) κΈ°λ°
π DNS κΈ°λ° μ ‘κ·Ό
π”’ λ³΄μ• κ·Έλ£Ή μ μ© κ°€λ¥

μ‘λ™ λ°©μ‹:
1. μ„λΈλ„·μ— ENI μƒμ„±
2. ν”„λΌμ΄λΉ— IP μ£Όμ† ν• λ‹Ή
3. DNS μ΄λ¦„μ„ ν†µν• μ„λΉ„μ¤ μ ‘κ·Ό
4. PrivateLink κΈ°μ  ν™μ©

μ¥μ :
β… λ‹¤μ–‘ν• AWS μ„λΉ„μ¤ μ§€μ›
β… μ¨ν”„λ λ―Έμ¤μ—μ„ μ ‘κ·Ό κ°€λ¥
β… λ‹¤λ¥Έ VPCμ—μ„ μ ‘κ·Ό κ°€λ¥
β… μ„Έλ°€ν• λ³΄μ• μ μ–΄
```

---

## π£ S3 κ²μ΄νΈμ›¨μ΄ μ—”λ“ν¬μΈνΈ μ‹¤μµ (45λ¶„)

### μ‹¤μµ μ‹λ‚λ¦¬μ¤

#### λΉ„μ© μ μ•½ μ‹λ‚λ¦¬μ¤
```
ν„μ¬ μƒν™©:
- ν”„λΌμ΄λΉ— μ„λΈλ„·μ EC2μ—μ„ S3 μ ‘κ·Ό
- NAT κ²μ΄νΈμ›¨μ΄λ¥Ό ν†µν• μΈν„°λ„· κ²½μ 
- μ›” 1TB λ°μ΄ν„° μ „μ†΅ μ‹ λΉ„μ©

κΈ°μ΅΄ λΉ„μ© (μ›”):
- NAT κ²μ΄νΈμ›¨μ΄: $43 (24μ‹κ°„ μ΄μ)
- λ°μ΄ν„° μ²λ¦¬: $60 (1TB Γ— $0.059/GB)
- μ΄ λΉ„μ©: $103/μ›”

μ—”λ“ν¬μΈνΈ μ μ© ν›„:
- S3 κ²μ΄νΈμ›¨μ΄ μ—”λ“ν¬μΈνΈ: $0
- λ°μ΄ν„° μ „μ†΅: λ¦¬μ „ λ‚΄ λ¬΄λ£
- μ΄ λΉ„μ©: $0/μ›”
- μ μ•½ ν¨κ³Ό: $103/μ›” (100% μ μ•½)
```

### μ‹¤μµ 1: S3 κ²μ΄νΈμ›¨μ΄ μ—”λ“ν¬μΈνΈ μƒμ„±

#### 1λ‹¨κ³„: μ—”λ“ν¬μΈνΈ μƒμ„±
```
1. VPC μ—”λ“ν¬μΈνΈ μƒμ„±
   - VPC β†’ Endpoints
   - "Create endpoint" ν΄λ¦­
   - Name: S3-Gateway-Endpoint
   - Service category: AWS services
   - Service name: com.amazonaws.ap-northeast-2.s3
   - VPC: SAA-Study-VPC
   - Route tables: ν”„λΌμ΄λΉ— λΌμ°ν… ν…μ΄λΈ”λ“¤ μ„ νƒ
   - Policy: Full access (κΈ°λ³Έκ°’)

2. μ„¤μ • ν™•μΈ
   - Service nameμ—μ„ Type: Gateway ν™•μΈ
   - μ„ νƒν• λΌμ°ν… ν…μ΄λΈ” ν™•μΈ
   - "Create endpoint" ν΄λ¦­
```

#### 2λ‹¨κ³„: λΌμ°ν… ν…μ΄λΈ” ν™•μΈ
```
1. λΌμ°ν… ν…μ΄λΈ” μλ™ μ—…λ°μ΄νΈ ν™•μΈ
   - Route Tables β†’ Private-Route-Table-AZ-A μ„ νƒ
   - Routes νƒ­μ—μ„ μƒλ΅μ΄ κ²½λ΅ ν™•μΈ:
     * Destination: pl-78a54011 (S3 prefix list)
     * Target: vpce-xxxxxxxxx (VPC endpoint)

2. Prefix List ν™•μΈ
   - Managed prefix lists λ©”λ‰΄
   - S3 μ„λΉ„μ¤μ IP λ²”μ„ μλ™ κ΄€λ¦¬
   - λ¦¬μ „λ³„ S3 IP μ£Όμ† ν¬ν•¨
```

### μ‹¤μµ 2: S3 μ ‘κ·Ό ν…μ¤νΈ

#### ν…μ¤νΈ ν™κ²½ μ¤€λΉ„
```
1. ν…μ¤νΈμ© S3 λ²„ν‚· μƒμ„±
   - S3 β†’ Buckets β†’ "Create bucket"
   - Bucket name: saa-study-endpoint-test-[λλ¤μ«μ]
   - Region: Asia Pacific (Seoul)
   - κΈ°λ³Έ μ„¤μ •μΌλ΅ μƒμ„±

2. ν…μ¤νΈ νμΌ μ—…λ΅λ“
   - κ°„λ‹¨ν• ν…μ¤νΈ νμΌ μ—…λ΅λ“
   - νΌλΈ”λ¦­ μ•΅μ„Έμ¤ μ°¨λ‹¨ μ μ§€ (κΈ°λ³Έκ°’)
```

#### ν”„λΌμ΄λΉ— μΈμ¤ν„΄μ¤μ—μ„ S3 μ ‘κ·Ό ν…μ¤νΈ
```
1. ν”„λΌμ΄λΉ— μΈμ¤ν„΄μ¤ μ ‘μ†
   # νΌλΈ”λ¦­ μΈμ¤ν„΄μ¤λ¥Ό ν†µν•΄ μ ‘μ†
   ssh -i key.pem ec2-user@[νΌλΈ”λ¦­-IP]
   ssh -i key.pem ec2-user@[ν”„λΌμ΄λΉ—-IP]

2. AWS CLI μ„¤μ • (IAM μ—­ν•  μ‚¬μ© κ¶μ¥)
   # EC2 μΈμ¤ν„΄μ¤μ— S3 μ ‘κ·Ό μ—­ν•  λ¶€μ—¬
   aws configure list
   aws sts get-caller-identity

3. S3 μ ‘κ·Ό ν…μ¤νΈ
   # λ²„ν‚· λ©λ΅ μ΅°ν
   aws s3 ls
   
   # νΉμ • λ²„ν‚· λ‚΄μ© μ΅°ν
   aws s3 ls s3://saa-study-endpoint-test-[λ²νΈ]/
   
   # νμΌ μ—…λ΅λ“ ν…μ¤νΈ
   echo "Hello from private subnet" > test.txt
   aws s3 cp test.txt s3://saa-study-endpoint-test-[λ²νΈ]/
   
   # νμΌ λ‹¤μ΄λ΅λ“ ν…μ¤νΈ
   aws s3 cp s3://saa-study-endpoint-test-[λ²νΈ]/test.txt downloaded.txt
   cat downloaded.txt

4. λ„¤νΈμ›ν¬ κ²½λ΅ ν™•μΈ
   # S3 IP μ£Όμ† ν™•μΈ
   nslookup s3.ap-northeast-2.amazonaws.com
   
   # λΌμ°ν… κ²½λ΅ ν™•μΈ
   ip route get [S3-IP-μ£Όμ†]
   # VPC μ—”λ“ν¬μΈνΈλ¥Ό ν†µν• λΌμ°ν… ν™•μΈ
```

### μ‹¤μµ 3: μ—”λ“ν¬μΈνΈ μ •μ±… μ„¤μ •

#### μ„Έλ°€ν• μ ‘κ·Ό μ μ–΄
```
1. μ—”λ“ν¬μΈνΈ μ •μ±… μμ •
   - Endpoints β†’ S3-Gateway-Endpoint μ„ νƒ
   - Policy νƒ­ β†’ "Edit policy"

2. μ ν•μ  μ •μ±… μμ‹
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Principal": "*",
      "Action": [
        "s3:GetObject",
        "s3:PutObject",
        "s3:ListBucket"
      ],
      "Resource": [
        "arn:aws:s3:::saa-study-endpoint-test-*",
        "arn:aws:s3:::saa-study-endpoint-test-*/*"
      ]
    }
  ]
}

3. μ •μ±… μ μ© λ° ν…μ¤νΈ
   - ν—μ©λ λ²„ν‚·: μ ‘κ·Ό κ°€λ¥
   - λ‹¤λ¥Έ λ²„ν‚·: μ ‘κ·Ό μ°¨λ‹¨ ν™•μΈ
```

---

## π” μΈν„°νμ΄μ¤ μ—”λ“ν¬μΈνΈ μ‹¤μµ (45λ¶„)

### EC2 μΈν„°νμ΄μ¤ μ—”λ“ν¬μΈνΈ κµ¬μ„±

#### μ‹¤μµ μ‹λ‚λ¦¬μ¤
```
λ©ν‘: ν”„λΌμ΄λΉ— μ„λΈλ„·μ—μ„ EC2 API μ§μ ‘ μ ‘κ·Ό
- EC2 μΈμ¤ν„΄μ¤ μ •λ³΄ μ΅°ν
- μΈμ¤ν„΄μ¤ μ‹μ‘/μ¤‘μ§€ (κ¶ν• μλ” κ²½μ°)
- Systems Manager μ—°κ²°

κΈ°μ΅΄ λ°©μ‹: ν”„λΌμ΄λΉ— EC2 β†’ NAT β†’ μΈν„°λ„· β†’ EC2 API
μ—”λ“ν¬μΈνΈ λ°©μ‹: ν”„λΌμ΄λΉ— EC2 β†’ Interface Endpoint β†’ EC2 API
```

### μ‹¤μµ 1: EC2 μΈν„°νμ΄μ¤ μ—”λ“ν¬μΈνΈ μƒμ„±

#### 1λ‹¨κ³„: μ—”λ“ν¬μΈνΈ μƒμ„±
```
1. μΈν„°νμ΄μ¤ μ—”λ“ν¬μΈνΈ μƒμ„±
   - VPC β†’ Endpoints β†’ "Create endpoint"
   - Name: EC2-Interface-Endpoint
   - Service category: AWS services
   - Service name: com.amazonaws.ap-northeast-2.ec2
   - VPC: SAA-Study-VPC
   - Subnets: ν”„λΌμ΄λΉ— μ„λΈλ„·λ“¤ μ„ νƒ (κ° AZ)
   - Security groups: μƒ λ³΄μ• κ·Έλ£Ή μƒμ„±

2. λ³΄μ• κ·Έλ£Ή μ„¤μ •
   - Name: VPC-Endpoint-SG
   - Inbound rules:
     * HTTPS (443): 10.0.0.0/16 (VPC CIDR)
     * Description: Allow HTTPS from VPC
   - Outbound rules: κΈ°λ³Έκ°’ μ μ§€

3. DNS μ„¤μ •
   - Enable DNS hostnames: μ²΄ν¬
   - Enable private DNS names: μ²΄ν¬ (κ¶μ¥)
   - "Create endpoint" ν΄λ¦­
```

#### 2λ‹¨κ³„: μ—”λ“ν¬μΈνΈ μƒνƒ ν™•μΈ
```
1. μ—”λ“ν¬μΈνΈ μƒνƒ ν™•μΈ
   - State: Available ν™•μΈ (λ‡ λ¶„ μ†μ”)
   - DNS names ν™•μΈ:
     * Regional DNS name
     * Zonal DNS names (AZλ³„)

2. ENI ν™•μΈ
   - EC2 β†’ Network Interfaces
   - VPC endpoint ENI ν™•μΈ
   - κ° AZλ³„ ν”„λΌμ΄λΉ— IP ν• λ‹Ή ν™•μΈ

3. DNS ν•΄μ„ ν…μ¤νΈ
   # ν”„λΌμ΄λΉ— μΈμ¤ν„΄μ¤μ—μ„ μ‹¤ν–‰
   nslookup ec2.ap-northeast-2.amazonaws.com
   # ν”„λΌμ΄λΉ— IP λ°ν™ ν™•μΈ (μ—”λ“ν¬μΈνΈ IP)
```

### μ‹¤μµ 2: EC2 API μ ‘κ·Ό ν…μ¤νΈ

#### API νΈμ¶ ν…μ¤νΈ
```
1. κΈ°λ³Έ EC2 μ •λ³΄ μ΅°ν
   # ν„μ¬ μΈμ¤ν„΄μ¤ μ •λ³΄
   aws ec2 describe-instances --instance-ids $(curl -s http://169.254.169.254/latest/meta-data/instance-id)
   
   # λ¨λ“  μΈμ¤ν„΄μ¤ μ •λ³΄ (κ¶ν• μλ” κ²½μ°)
   aws ec2 describe-instances
   
   # λ¦¬μ „ μ •λ³΄ ν™•μΈ
   aws ec2 describe-regions

2. λ„¤νΈμ›ν¬ κ²½λ΅ ν™•μΈ
   # EC2 API μ—”λ“ν¬μΈνΈ IP ν™•μΈ
   nslookup ec2.ap-northeast-2.amazonaws.com
   
   # ν”„λΌμ΄λΉ— IP λ°ν™ ν™•μΈ (10.0.x.x)
   # μΈν„°λ„· κ²½μ  μ—†μ΄ μ§μ ‘ μ ‘κ·Ό ν™•μΈ

3. μ„±λ¥ λΉ„κµ
   # μ—”λ“ν¬μΈνΈ μ‚¬μ© μ‹ μ‘λ‹µ μ‹κ°„ μΈ΅μ •
   time aws ec2 describe-regions
   
   # NAT κ²½μ  μ‹μ™€ λΉ„κµ (μ°Έκ³ μ©)
```

### μ‹¤μµ 3: Systems Manager μ—”λ“ν¬μΈνΈ

#### SSM μ—”λ“ν¬μΈνΈ μƒμ„± (μ„ νƒμ‚¬ν•­)
```
1. ν•„μ”ν• SSM μ—”λ“ν¬μΈνΈλ“¤
   - com.amazonaws.ap-northeast-2.ssm
   - com.amazonaws.ap-northeast-2.ssmmessages
   - com.amazonaws.ap-northeast-2.ec2messages

2. SSM μ—”λ“ν¬μΈνΈ μƒμ„±
   # κ°κ° λ³„λ„λ΅ μƒμ„±ν•κ±°λ‚ ν• λ²μ— μƒμ„±
   - λ™μΌν• λ³΄μ• κ·Έλ£Ή μ‚¬μ©
   - λ™μΌν• μ„λΈλ„· μ„ νƒ
   - Private DNS names ν™μ„±ν™”

3. Session Manager ν…μ¤νΈ
   # AWS μ½μ†”μ—μ„ Session Manager μ ‘μ† ν…μ¤νΈ
   # ν”„λΌμ΄λΉ— μΈμ¤ν„΄μ¤μ— μ§μ ‘ μ ‘μ† κ°€λ¥ ν™•μΈ
```

---

## π’° λΉ„μ© μµμ ν™” μ „λµ (30λ¶„)

### μ—”λ“ν¬μΈνΈ λΉ„μ© λ¶„μ„

#### κ²μ΄νΈμ›¨μ΄ μ—”λ“ν¬μΈνΈ λΉ„μ©
```
S3 κ²μ΄νΈμ›¨μ΄ μ—”λ“ν¬μΈνΈ:
- μ—”λ“ν¬μΈνΈ μμ²΄: λ¬΄λ£
- λ°μ΄ν„° μ „μ†΅: λ¦¬μ „ λ‚΄ λ¬΄λ£
- μ΄ λΉ„μ©: $0

DynamoDB κ²μ΄νΈμ›¨μ΄ μ—”λ“ν¬μΈνΈ:
- μ—”λ“ν¬μΈνΈ μμ²΄: λ¬΄λ£
- λ°μ΄ν„° μ „μ†΅: λ¦¬μ „ λ‚΄ λ¬΄λ£
- μ΄ λΉ„μ©: $0

ROI κ³„μ‚°:
- NAT κ²μ΄νΈμ›¨μ΄ μ μ•½: $43/μ›”
- λ°μ΄ν„° μ²λ¦¬ μ μ•½: $0.059/GB
- μ¦‰μ‹ 100% λΉ„μ© μ μ•½
```

#### μΈν„°νμ΄μ¤ μ—”λ“ν¬μΈνΈ λΉ„μ©
```
μΈν„°νμ΄μ¤ μ—”λ“ν¬μΈνΈ λΉ„μ© (μ„μΈ λ¦¬μ „):
- μ‹κ°„λ‹Ή μ”κΈ: $0.014/μ‹κ°„ per AZ
- λ°μ΄ν„° μ²λ¦¬: $0.014/GB
- μ›” λΉ„μ© (1κ° AZ): ~$10

λΉ„μ© λ¶„μ„ μμ‹:
μ‹λ‚λ¦¬μ¤: EC2 API μ›” 100GB μ‚¬μ©

κΈ°μ΅΄ λΉ„μ© (NAT κ²½μ ):
- NAT κ²μ΄νΈμ›¨μ΄: $43/μ›”
- λ°μ΄ν„° μ²λ¦¬: $5.9/μ›” (100GB Γ— $0.059)
- μ΄ λΉ„μ©: $48.9/μ›”

μ—”λ“ν¬μΈνΈ λΉ„μ©:
- μ—”λ“ν¬μΈνΈ: $10/μ›” (1κ° AZ)
- λ°μ΄ν„° μ²λ¦¬: $1.4/μ›” (100GB Γ— $0.014)
- μ΄ λΉ„μ©: $11.4/μ›”

μ μ•½ ν¨κ³Ό: $37.5/μ›” (77% μ μ•½)
```

### μµμ ν™” μ „λµ

#### μ—”λ“ν¬μΈνΈ μ„ νƒ κΈ°μ¤€
```
κ²μ΄νΈμ›¨μ΄ μ—”λ“ν¬μΈνΈ μ°μ„  κ³ λ ¤:
β… S3, DynamoDB μ‚¬μ© μ‹
β… λ€μ©λ‰ λ°μ΄ν„° μ „μ†΅
β… λΉ„μ© μµμ ν™” μ°μ„ 
β… κ°„λ‹¨ν• μ„¤μ • μ„ νΈ

μΈν„°νμ΄μ¤ μ—”λ“ν¬μΈνΈ κ³ λ ¤:
β… λ‹¤μ–‘ν• AWS μ„λΉ„μ¤ μ‚¬μ©
β… μ¨ν”„λ λ―Έμ¤ μ—°κ²° ν•„μ”
β… μ„Έλ°€ν• λ³΄μ• μ μ–΄ ν•„μ”
β… μ„±λ¥λ³΄λ‹¤ κΈ°λ¥ μ°μ„ 

ν•μ΄λΈλ¦¬λ“ μ ‘κ·Ό:
π― S3/DynamoDB: κ²μ΄νΈμ›¨μ΄ μ—”λ“ν¬μΈνΈ
π― κΈ°νƒ€ μ„λΉ„μ¤: ν•„μ”μ‹ μΈν„°νμ΄μ¤ μ—”λ“ν¬μΈνΈ
π― μ‚¬μ©λ‰ κΈ°λ° λΉ„μ© λ¶„μ„ ν›„ κ²°μ •
```

#### λΉ„μ© λ¨λ‹ν„°λ§
```
λΉ„μ© μ¶”μ  λ°©λ²•:
1. CloudWatch λ©”νΈλ¦­ ν™μ©
   - μ—”λ“ν¬μΈνΈ μ‚¬μ©λ‰ λ¨λ‹ν„°λ§
   - λ°μ΄ν„° μ „μ†΅λ‰ μ¶”μ 

2. Cost Explorer λ¶„μ„
   - VPC μ—”λ“ν¬μΈνΈ λΉ„μ© λ¶„μ„
   - NAT κ²μ΄νΈμ›¨μ΄ λΉ„μ©κ³Ό λΉ„κµ

3. μ •κΈ°μ  κ²€ν† 
   - μ›”λ³„ λΉ„μ© λ¶„μ„
   - μ‚¬μ©ν•μ§€ μ•λ” μ—”λ“ν¬μΈνΈ μ •λ¦¬
   - νΈλν”½ ν¨ν„΄ λ³€ν™” λ°μ
```

---

## π”’ λ³΄μ• κ³ λ ¤μ‚¬ν•­ (15λ¶„)

### μ—”λ“ν¬μΈνΈ λ³΄μ• μ„¤μ •

#### κ²μ΄νΈμ›¨μ΄ μ—”λ“ν¬μΈνΈ λ³΄μ•
```
λ³΄μ• μ”μ†:
1. μ—”λ“ν¬μΈνΈ μ •μ±…
   - μ ‘κ·Ό κ°€λ¥ν• λ¦¬μ†μ¤ μ ν•
   - ν—μ©λ μ‘μ—… μ ν•
   - μ΅°κ±΄λ¶€ μ ‘κ·Ό μ μ–΄

2. λΌμ°ν… μ μ–΄
   - νΉμ • λΌμ°ν… ν…μ΄λΈ”μ—λ§ μ—°κ²°
   - λ¶ν•„μ”ν• μ„λΈλ„· μ ‘κ·Ό μ°¨λ‹¨

3. IAM μ •μ±… μ—°λ™
   - μ‚¬μ©μ/μ—­ν• λ³„ μ ‘κ·Ό μ μ–΄
   - λ¦¬μ†μ¤ κΈ°λ° μ •μ±… ν™μ©
```

#### μΈν„°νμ΄μ¤ μ—”λ“ν¬μΈνΈ λ³΄μ•
```
λ³΄μ• μ”μ†:
1. λ³΄μ• κ·Έλ£Ή
   - HTTPS(443) ν¬νΈλ§ ν—μ©
   - μ†μ¤ IP μ ν• (VPC CIDR)
   - μµμ† κ¶ν• μ›μΉ™ μ μ©

2. μ—”λ“ν¬μΈνΈ μ •μ±…
   - API μ‘μ—… μ ν•
   - λ¦¬μ†μ¤ μ ‘κ·Ό μ ν•
   - μ‹κ°„/μ΅°κ±΄ κΈ°λ° μ μ–΄

3. DNS λ³΄μ•
   - Private DNS ν™μ„±ν™”
   - DNS ν•μ΄μ¬ν‚Ή λ°©μ§€
   - λ‚΄λ¶€ DNS ν•΄μ„ λ³΄μ¥

4. λ„¤νΈμ›ν¬ κ²©λ¦¬
   - μ „μ© μ„λΈλ„· μ‚¬μ© κ³ λ ¤
   - νΈλν”½ λ¨λ‹ν„°λ§
   - λ΅κ·Έ λ¶„μ„
```

---

## π“ ν•µμ‹¬ μ •λ¦¬

### VPC μ—”λ“ν¬μΈνΈ ν•µμ‹¬ κ°λ…
1. **κ²μ΄νΈμ›¨μ΄ μ—”λ“ν¬μΈνΈ**: S3/DynamoDB μ „μ©, λ¬΄λ£, λΌμ°ν… κΈ°λ°
2. **μΈν„°νμ΄μ¤ μ—”λ“ν¬μΈνΈ**: λ€λ¶€λ¶„ μ„λΉ„μ¤ μ§€μ›, μ λ£, ENI κΈ°λ°
3. **λΉ„μ© μ μ•½**: NAT κ²μ΄νΈμ›¨μ΄ λ€μ²΄λ΅ μƒλ‹Ήν• λΉ„μ© μ μ•½
4. **λ³΄μ• κ°•ν™”**: μΈν„°λ„· κ²½μ  μ—†λ” ν”„λΌμ΄λΉ— μ—°κ²°

### μ„¤κ³„ μ›μΉ™
- **μ°μ„ μμ„**: κ²μ΄νΈμ›¨μ΄ μ—”λ“ν¬μΈνΈ μ°μ„  κ³ λ ¤
- **λΉ„μ© λ¶„μ„**: μ‚¬μ©λ‰ κΈ°λ° ROI κ³„μ‚°
- **λ³΄μ• μ„¤μ •**: μµμ† κ¶ν• μ›μΉ™ μ μ©
- **λ¨λ‹ν„°λ§**: μ§€μ†μ μΈ λΉ„μ© λ° μ‚¬μ©λ‰ μ¶”μ 

### μ‹¤λ¬΄ μ μ© ν¬μΈνΈ
- **S3 μ ‘κ·Ό**: κ²μ΄νΈμ›¨μ΄ μ—”λ“ν¬μΈνΈλ΅ 100% λΉ„μ© μ μ•½
- **API νΈμ¶**: μΈν„°νμ΄μ¤ μ—”λ“ν¬μΈνΈλ΅ μ„±λ¥ ν–¥μƒ
- **ν•μ΄λΈλ¦¬λ“**: μ„λΉ„μ¤λ³„ μµμ  μ—”λ“ν¬μΈνΈ μ„ νƒ
- **μ •κΈ° κ²€ν† **: μ‚¬μ© ν¨ν„΄ λ³€ν™”μ— λ”°λ¥Έ μµμ ν™”

---

## π¤” ν† λ΅  μ£Όμ 

1. **λ¨λ“  AWS μ„λΉ„μ¤μ— μ—”λ“ν¬μΈνΈκ°€ ν•„μ”ν• κΉ?**
   - λΉ„μ© vs μ„±λ¥ vs λ³΄μ•μ κ· ν•μ 

2. **μ¨ν”„λ λ―Έμ¤ ν™κ²½μ—μ„ μ—”λ“ν¬μΈνΈ ν™μ© λ°©μ•μ€?**
   - Direct Connectμ™€ μ—”λ“ν¬μΈνΈ μ΅°ν•©

---

## π“ λ‹¤μ μ‹κ°„ μκ³ 

**λ„¤νΈμ›ν¬ λ¨λ‹ν„°λ§**
- VPC Flow Logs μ„¤μ • λ° ν™μ©
- CloudWatchλ¥Ό ν†µν• λ„¤νΈμ›ν¬ λ¨λ‹ν„°λ§
- λ„¤νΈμ›ν¬ νΈλν”½ λ¶„μ„ λ° μµμ ν™”
- λ³΄μ• μ΄λ²¤νΈ νƒμ§€ λ° λ€μ‘

---

> π’΅ **μ¤λμ ν•µμ‹¬**: VPC μ—”λ“ν¬μΈνΈλ” λΉ„μ© μ μ•½κ³Ό λ³΄μ• κ°•ν™”λ¥Ό λ™μ‹μ— λ‹¬μ„±ν•  μ μλ” ν•µμ‹¬ κΈ°μ μ…λ‹λ‹¤. νΉν S3 κ²μ΄νΈμ›¨μ΄ μ—”λ“ν¬μΈνΈλ” μ¦‰μ‹ 100% λΉ„μ© μ μ•½ ν¨κ³Όλ¥Ό κ°€μ Έλ‹¤μ¤λ‹λ‹¤. μ„λΉ„μ¤λ³„ νΉμ„±μ„ κ³ λ ¤ν•μ—¬ μ μ ν• μ—”λ“ν¬μΈνΈλ¥Ό μ„ νƒν•μ„Έμ”!